!function(e){var t={};function s(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=t,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(i,n,function(t){return e[t]}.bind(null,n));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=0)}([function(e,t,s){"use strict";s.r(t);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const i=new WeakMap,n=e=>"function"==typeof e&&i.has(e),a=void 0!==window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,o=(e,t,s=null)=>{for(;t!==s;){const s=t.nextSibling;e.removeChild(t),t=s}},r={},l={},u=`{{lit-${String(Math.random()).slice(2)}}}`,c=`\x3c!--${u}--\x3e`,d=new RegExp(`${u}|${c}`),m="$lit$";class h{constructor(e,t){this.parts=[],this.element=t;const s=[],i=[],n=document.createTreeWalker(t.content,133,null,!1);let a=0,o=-1,r=0;const{strings:l,values:{length:c}}=e;for(;r<c;){const e=n.nextNode();if(null!==e){if(o++,1===e.nodeType){if(e.hasAttributes()){const t=e.attributes,{length:s}=t;let i=0;for(let e=0;e<s;e++)p(t[e].name,m)&&i++;for(;i-- >0;){const t=l[r],s=g.exec(t)[2],i=s.toLowerCase()+m,n=e.getAttribute(i);e.removeAttribute(i);const a=n.split(d);this.parts.push({type:"attribute",index:o,name:s,strings:a}),r+=a.length-1}}"TEMPLATE"===e.tagName&&(i.push(e),n.currentNode=e.content)}else if(3===e.nodeType){const t=e.data;if(t.indexOf(u)>=0){const i=e.parentNode,n=t.split(d),a=n.length-1;for(let t=0;t<a;t++){let s,a=n[t];if(""===a)s=f();else{const e=g.exec(a);null!==e&&p(e[2],m)&&(a=a.slice(0,e.index)+e[1]+e[2].slice(0,-m.length)+e[3]),s=document.createTextNode(a)}i.insertBefore(s,e),this.parts.push({type:"node",index:++o})}""===n[a]?(i.insertBefore(f(),e),s.push(e)):e.data=n[a],r+=a}}else if(8===e.nodeType)if(e.data===u){const t=e.parentNode;null!==e.previousSibling&&o!==a||(o++,t.insertBefore(f(),e)),a=o,this.parts.push({type:"node",index:o}),null===e.nextSibling?e.data="":(s.push(e),o--),r++}else{let t=-1;for(;-1!==(t=e.data.indexOf(u,t+1));)this.parts.push({type:"node",index:-1}),r++}}else n.currentNode=i.pop()}for(const e of s)e.parentNode.removeChild(e)}}const p=(e,t)=>{const s=e.length-t.length;return s>=0&&e.slice(s)===t},v=e=>-1!==e.index,f=()=>document.createComment(""),g=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
class _{constructor(e,t,s){this.__parts=[],this.template=e,this.processor=t,this.options=s}update(e){let t=0;for(const s of this.__parts)void 0!==s&&s.setValue(e[t]),t++;for(const e of this.__parts)void 0!==e&&e.commit()}_clone(){const e=a?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),t=[],s=this.template.parts,i=document.createTreeWalker(e,133,null,!1);let n,o=0,r=0,l=i.nextNode();for(;o<s.length;)if(n=s[o],v(n)){for(;r<n.index;)r++,"TEMPLATE"===l.nodeName&&(t.push(l),i.currentNode=l.content),null===(l=i.nextNode())&&(i.currentNode=t.pop(),l=i.nextNode());if("node"===n.type){const e=this.processor.handleTextExpression(this.options);e.insertAfterNode(l.previousSibling),this.__parts.push(e)}else this.__parts.push(...this.processor.handleAttributeExpressions(l,n.name,n.strings,this.options));o++}else this.__parts.push(void 0),o++;return a&&(document.adoptNode(e),customElements.upgrade(e)),e}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const b=` ${u} `;class x{constructor(e,t,s,i){this.strings=e,this.values=t,this.type=s,this.processor=i}getHTML(){const e=this.strings.length-1;let t="",s=!1;for(let i=0;i<e;i++){const e=this.strings[i],n=e.lastIndexOf("\x3c!--");s=(n>-1||s)&&-1===e.indexOf("--\x3e",n+1);const a=g.exec(e);t+=null===a?e+(s?b:c):e.substr(0,a.index)+a[1]+a[2]+m+a[3]+u}return t+=this.strings[e],t}getTemplateElement(){const e=document.createElement("template");return e.innerHTML=this.getHTML(),e}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const w=e=>null===e||!("object"==typeof e||"function"==typeof e),y=e=>Array.isArray(e)||!(!e||!e[Symbol.iterator]);class N{constructor(e,t,s){this.dirty=!0,this.element=e,this.name=t,this.strings=s,this.parts=[];for(let e=0;e<s.length-1;e++)this.parts[e]=this._createPart()}_createPart(){return new S(this)}_getValue(){const e=this.strings,t=e.length-1;let s="";for(let i=0;i<t;i++){s+=e[i];const t=this.parts[i];if(void 0!==t){const e=t.value;if(w(e)||!y(e))s+="string"==typeof e?e:String(e);else for(const t of e)s+="string"==typeof t?t:String(t)}}return s+=e[t],s}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class S{constructor(e){this.value=void 0,this.committer=e}setValue(e){e===r||w(e)&&e===this.value||(this.value=e,n(e)||(this.committer.dirty=!0))}commit(){for(;n(this.value);){const e=this.value;this.value=r,e(this)}this.value!==r&&this.committer.commit()}}class q{constructor(e){this.value=void 0,this.__pendingValue=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild(f()),this.endNode=e.appendChild(f())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e.__insert(this.startNode=f()),e.__insert(this.endNode=f())}insertAfterPart(e){e.__insert(this.startNode=f()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this.__pendingValue=e}commit(){for(;n(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=r,e(this)}const e=this.__pendingValue;e!==r&&(w(e)?e!==this.value&&this.__commitText(e):e instanceof x?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):y(e)?this.__commitIterable(e):e===l?(this.value=l,this.clear()):this.__commitText(e))}__insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}__commitNode(e){this.value!==e&&(this.clear(),this.__insert(e),this.value=e)}__commitText(e){const t=this.startNode.nextSibling,s="string"==typeof(e=null==e?"":e)?e:String(e);t===this.endNode.previousSibling&&3===t.nodeType?t.data=s:this.__commitNode(document.createTextNode(s)),this.value=e}__commitTemplateResult(e){const t=this.options.templateFactory(e);if(this.value instanceof _&&this.value.template===t)this.value.update(e.values);else{const s=new _(t,e.processor,this.options),i=s._clone();s.update(e.values),this.__commitNode(i),this.value=s}}__commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());const t=this.value;let s,i=0;for(const n of e)s=t[i],void 0===s&&(s=new q(this.options),t.push(s),0===i?s.appendIntoPart(this):s.insertAfterPart(t[i-1])),s.setValue(n),s.commit(),i++;i<t.length&&(t.length=i,this.clear(s&&s.endNode))}clear(e=this.startNode){o(this.startNode.parentNode,e.nextSibling,this.endNode)}}class V{constructor(e,t,s){if(this.value=void 0,this.__pendingValue=void 0,2!==s.length||""!==s[0]||""!==s[1])throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=t,this.strings=s}setValue(e){this.__pendingValue=e}commit(){for(;n(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=r,e(this)}if(this.__pendingValue===r)return;const e=!!this.__pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=e),this.__pendingValue=r}}class C extends N{constructor(e,t,s){super(e,t,s),this.single=2===s.length&&""===s[0]&&""===s[1]}_createPart(){return new E(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class E extends S{}let P=!1;try{const e={get capture(){return P=!0,!1}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){}class M{constructor(e,t,s){this.value=void 0,this.__pendingValue=void 0,this.element=e,this.eventName=t,this.eventContext=s,this.__boundHandleEvent=e=>this.handleEvent(e)}setValue(e){this.__pendingValue=e}commit(){for(;n(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=r,e(this)}if(this.__pendingValue===r)return;const e=this.__pendingValue,t=this.value,s=null==e||null!=t&&(e.capture!==t.capture||e.once!==t.once||e.passive!==t.passive),i=null!=e&&(null==t||s);s&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),i&&(this.__options=T(e),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=e,this.__pendingValue=r}handleEvent(e){"function"==typeof this.value?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}}const T=e=>e&&(P?{capture:e.capture,passive:e.passive,once:e.once}:e.capture);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const k=new class{handleAttributeExpressions(e,t,s,i){const n=t[0];if("."===n){return new C(e,t.slice(1),s).parts}return"@"===n?[new M(e,t.slice(1),i.eventContext)]:"?"===n?[new V(e,t.slice(1),s)]:new N(e,t,s).parts}handleTextExpression(e){return new q(e)}};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */function A(e){let t=L.get(e.type);void 0===t&&(t={stringsArray:new WeakMap,keyString:new Map},L.set(e.type,t));let s=t.stringsArray.get(e.strings);if(void 0!==s)return s;const i=e.strings.join(u);return s=t.keyString.get(i),void 0===s&&(s=new h(e,e.getTemplateElement()),t.keyString.set(i,s)),t.stringsArray.set(e.strings,s),s}const L=new Map,R=new WeakMap,I=(e,t,s)=>{let i=R.get(t);void 0===i&&(o(t,t.firstChild),R.set(t,i=new q(Object.assign({templateFactory:A},s))),i.appendInto(t)),i.setValue(e),i.commit()};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.1.2");const D=(e,...t)=>new x(e,t,"html",k),j=e=>{document.body.addEventListener("click",t=>{if(t.defaultPrevented||0!==t.button||t.metaKey||t.ctrlKey||t.shiftKey)return;const s=t.composedPath().filter(e=>"A"===e.tagName)[0];if(!s||s.target||s.hasAttribute("download")||"external"===s.getAttribute("rel"))return;const i=s.href;if(!i||-1!==i.indexOf("mailto:"))return;const n=window.location,a=n.origin||n.protocol+"//"+n.host;0===i.indexOf(a)&&(t.preventDefault(),i!==n.href&&(window.history.pushState({},"",i),e(n,t)))}),window.addEventListener("popstate",t=>e(window.location,t)),e(window.location,null)};class O extends HTMLElement{constructor(){super(),this._shadowRoot=this.attachShadow({mode:"open"})}connectedCallback(){I(this.template(),this._shadowRoot,{eventContext:this})}template(){return D`
      <section>
        <h2>Some landing page content goes here</h2>
        <p>
          Quisque porta metus in tortor vulputate tempus. Maecenas finibus, nulla vitae feugiat porta, enim felis malesuada tellus, et efficitur sapien lectus sed metus. Vivamus non faucibus elit. Morbi finibus turpis eu tincidunt vulputate. Cras pharetra risus diam, sit amet vehicula augue eleifend ut. Sed non venenatis libero. Curabitur auctor arcu sagittis libero gravida, nec sodales tortor vulputate. Vivamus risus mi, scelerisque sit amet pharetra ac, fringilla a odio. Suspendisse aliquet ultrices luctus. Phasellus fringilla, est in pellentesque venenatis, dui mauris tempor ligula, in maximus velit enim vitae nulla.

Suspendisse congue sodales est. Suspendisse nisl ex, consectetur vel cursus sed, cursus sit amet sapien. Cras consequat massa venenatis nunc volutpat lobortis. Donec ornare blandit diam eget efficitur. Cras varius aliquet leo, nec finibus odio tincidunt non. Pellentesque mauris massa, accumsan quis tortor vitae, consectetur sollicitudin massa. Fusce eget vestibulum lacus, nec mollis orci. Vestibulum mauris velit, luctus vel lorem luctus, luctus porttitor dolor. Aenean iaculis ex eu ornare malesuada. Donec pellentesque lorem sit amet nisi congue, sit amet fringilla urna euismod. Vivamus consectetur mauris eu ligula blandit tristique. Nullam arcu mi, accumsan sit amet ipsum nec, scelerisque malesuada nisl.
        </p>
      </section>
      `}}customElements.define("home-view",O);class $ extends HTMLElement{constructor(){super(),this._shadowRoot=this.attachShadow({mode:"open"})}connectedCallback(){I(this.template(),this._shadowRoot,{eventContext:this})}template(){return D`
      <section>
        <h2>Implement Coverages content here</h2>
        <p>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed nunc tellus, fringilla id vestibulum vel, interdum et enim. Nulla vehicula arcu in eros faucibus, quis ultrices tellus semper. Nulla ut ante libero. Cras ut tortor in enim eleifend pharetra. Duis vulputate scelerisque felis, vel malesuada mauris sollicitudin in. Maecenas nisi ligula, mollis consectetur lacinia at, mollis vel augue. Mauris id ante vulputate, condimentum turpis sollicitudin, volutpat erat. Proin at turpis non neque viverra mattis non eu turpis. Curabitur in mi lacinia, mollis lorem ut, molestie eros. In vel iaculis tortor. Curabitur bibendum suscipit tortor ac egestas.

Quisque porta metus in tortor vulputate tempus. Maecenas finibus, nulla vitae feugiat porta, enim felis malesuada tellus, et efficitur sapien lectus sed metus. Vivamus non faucibus elit. Morbi finibus turpis eu tincidunt vulputate. Cras pharetra risus diam, sit amet vehicula augue eleifend ut. Sed non venenatis libero. Curabitur auctor arcu sagittis libero gravida, nec sodales tortor vulputate. Vivamus risus mi, scelerisque sit amet pharetra ac, fringilla a odio. Suspendisse aliquet ultrices luctus. Phasellus fringilla, est in pellentesque venenatis, dui mauris tempor ligula, in maximus velit enim vitae nulla.
        </p>
      </section>
      `}}customElements.define("coverages-view",$);class H extends HTMLElement{constructor(){super(),this._shadowRoot=this.attachShadow({mode:"open"})}connectedCallback(){I(this.template(),this._shadowRoot,{eventContext:this})}template(){return D`
      <section>
        <h2>Business Info view here</h2>
        <p>
          Donec maximus nulla risus, a euismod mauris ornare quis. Maecenas interdum lorem vitae felis convallis, eu fermentum eros sagittis. Integer vel metus id sem faucibus hendrerit. Duis in vulputate nisl. Curabitur a tincidunt justo. Praesent tincidunt tortor in lectus semper mattis. Nullam at facilisis nisi. Praesent eget enim ultrices, imperdiet felis a, fringilla risus. Integer faucibus ut enim nec dignissim. Sed congue ex nisl, vel fringilla metus finibus at. Duis sed iaculis elit. Interdum et malesuada fames ac ante ipsum primis in faucibus. Proin at blandit lorem. Etiam sollicitudin augue et odio maximus ullamcorper eu ac lorem.

Vivamus pretium erat dolor, sit amet semper metus gravida in. Vivamus porta sit amet dolor vel consequat. Aenean mattis, erat eu rhoncus volutpat, quam nibh venenatis lorem, laoreet lobortis neque neque ut tellus. Phasellus varius maximus elementum. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Nullam ultricies nibh sed hendrerit mollis. Donec accumsan arcu non felis auctor, at sollicitudin neque mattis. Donec sagittis orci dolor, eu laoreet leo congue sed. Nam sodales nec justo id fringilla. Mauris mi orci, vulputate et efficitur id, pharetra eu ex. Nullam vel orci lobortis, pharetra mauris eget, varius sem. Proin quis gravida nisi.
        </p>
      </section>
      `}}customElements.define("businessinfo-view",H);class F extends HTMLElement{constructor(){super(),this._shadowRoot=this.attachShadow({mode:"open"})}connectedCallback(){I(this.template(),this._shadowRoot,{eventContext:this})}template(){return D`
      <section>
        <h2>Operations content goes here</h2>
        <p>
          Quisque porta metus in tortor vulputate tempus. Maecenas finibus, nulla vitae feugiat porta, enim felis malesuada tellus, et efficitur sapien lectus sed metus. Vivamus non faucibus elit. Morbi finibus turpis eu tincidunt vulputate. Cras pharetra risus diam, sit amet vehicula augue eleifend ut. Sed non venenatis libero. Curabitur auctor arcu sagittis libero gravida, nec sodales tortor vulputate. Vivamus risus mi, scelerisque sit amet pharetra ac, fringilla a odio. Suspendisse aliquet ultrices luctus. Phasellus fringilla, est in pellentesque venenatis, dui mauris tempor ligula, in maximus velit enim vitae nulla.

Suspendisse congue sodales est. Suspendisse nisl ex, consectetur vel cursus sed, cursus sit amet sapien. Cras consequat massa venenatis nunc volutpat lobortis. Donec ornare blandit diam eget efficitur. Cras varius aliquet leo, nec finibus odio tincidunt non. Pellentesque mauris massa, accumsan quis tortor vitae, consectetur sollicitudin massa. Fusce eget vestibulum lacus, nec mollis orci. Vestibulum mauris velit, luctus vel lorem luctus, luctus porttitor dolor. Aenean iaculis ex eu ornare malesuada. Donec pellentesque lorem sit amet nisi congue, sit amet fringilla urna euismod. Vivamus consectetur mauris eu ligula blandit tristique. Nullam arcu mi, accumsan sit amet ipsum nec, scelerisque malesuada nisl.
        </p>
      </section>
      `}}customElements.define("operations-view",F);class B extends HTMLElement{constructor(){super(),this._shadowRoot=this.attachShadow({mode:"open"})}connectedCallback(){I(this.template(),this._shadowRoot,{eventContext:this})}template(){return D`
      <section>
        <h2>Sales projections content here</h2>
        <p>
          Suspendisse congue sodales est. Suspendisse nisl ex, consectetur vel cursus sed, cursus sit amet sapien. Cras consequat massa venenatis nunc volutpat lobortis. Donec ornare blandit diam eget efficitur. Cras varius aliquet leo, nec finibus odio tincidunt non. Pellentesque mauris massa, accumsan quis tortor vitae, consectetur sollicitudin massa. Fusce eget vestibulum lacus, nec mollis orci. Vestibulum mauris velit, luctus vel lorem luctus, luctus porttitor dolor. Aenean iaculis ex eu ornare malesuada. Donec pellentesque lorem sit amet nisi congue, sit amet fringilla urna euismod. Vivamus consectetur mauris eu ligula blandit tristique. Nullam arcu mi, accumsan sit amet ipsum nec, scelerisque malesuada nisl.

Donec maximus nulla risus, a euismod mauris ornare quis. Maecenas interdum lorem vitae felis convallis, eu fermentum eros sagittis. Integer vel metus id sem faucibus hendrerit. Duis in vulputate nisl. Curabitur a tincidunt justo. Praesent tincidunt tortor in lectus semper mattis. Nullam at facilisis nisi. Praesent eget enim ultrices, imperdiet felis a, fringilla risus. Integer faucibus ut enim nec dignissim. Sed congue ex nisl, vel fringilla metus finibus at. Duis sed iaculis elit. Interdum et malesuada fames ac ante ipsum primis in faucibus. Proin at blandit lorem. Etiam sollicitudin augue et odio maximus ullamcorper eu ac lorem.
        </p>
      </section>
      `}}customElements.define("sales-view",B);class W extends HTMLElement{constructor(){super(),this._shadowRoot=this.attachShadow({mode:"open"}),this._pathname="/"}get pathname(){return this._pathname}set pathname(e){this._pathname=e}_handleNavigation(e){switch(e){case"/":case"/coverages":case"/businessinfo":case"/operations":case"/sales":break;default:e="/"}this.pathname=e,I(this.template(),this._shadowRoot,{eventContext:this})}async connectedCallback(){I(this.template(),this._shadowRoot,{eventContext:this}),j(e=>this._handleNavigation(e.pathname)),window.history.pushState({},"","/"),this._handleNavigation()}disconnectedCallback(){this.removeEventListener("user",e=>this._getUserName(e),!1)}_openNav(){console.log("_openNav() invoked"),this._shadowRoot.querySelector("div#mySidenav").style.width="250px",this._shadowRoot.querySelector("main").style.marginLeft="250px",this._shadowRoot.querySelector("div#button").style.display="none"}_closeNav(){this._shadowRoot.querySelector("div#mySidenav").style.width="0",this._shadowRoot.querySelector("main").style.marginLeft="0",this._shadowRoot.querySelector("div#button").style.display="block"}template(){return D`
      <style>
        :host {
          display: block;
        }

        a {
          text-decoration: none;
        }

        header {
          width: 100%;
          min-height: 80px;
          background-color: #a1a1a1;
          padding-top: 10px;
          margin-bottom: 20px;
        }

        /* workaround for IE11 displaying <main> as inline */
        main {
          display: block;
        }

        .main-content {
          padding-top: 64px;
          padding-left: 3em;
          min-height: 100vh;
          width: 70%;
          margin-left: auto;
          margin-right: auto;
        }

        .pathname {
          display: none;
        }

        .pathname[active] {
          display: block;
        }
        /********* Dean, this is where I added your css ***/

        .sidenav {
          height: 100%;
          width: 0;
          position: fixed;
          z-index: 1;
          top: 0;
          left: 0;
          background-color: #111;
          overflow-x: hidden;
          transition: 0.5s;
          padding-top: 60px;
        }
        
        .sidenav a {
          padding: 8px 8px 8px 32px;
          text-decoration: none;
          font-size: 25px;
          color: #818181;
          display: block;
          transition: 0.3s;
        }
        
        .sidenav a:hover {
          color: #f1f1f1;
        }
        
        .sidenav .closebtn {
          position: absolute;
          top: 0;
          right: 25px;
          font-size: 36px;
          margin-left: 50px;
        }
        
        /* Dean, took out your main div
        #main {
          transition: margin-left .5s;
          padding: 16px;
        }
        */
        
        @media screen and (max-height: 450px) {
          .sidenav {padding-top: 15px;}
          .sidenav a {font-size: 18px;}
        }
      </style>

      <header>
        <!-- navigation bar -->
        <nav class="toolbar">
        </nav>
      </header>
      
      <!-- Dean, this is where I added your markup for sidenav  -->

      <div id="mySidenav" class="sidenav">
        <a href="javascript:void(0)" class="closebtn" @click=${this._closeNav}>&times;</a>
        <a href="/coverages">Coverages</a>
        <a href="/businessinfo">Business Info</a>
        <a href="/operations">Operations</a>
        <a href="sales">Sales Projections</a>
      </div>
      
      <div id="button">
        <span style="font-size:30px;cursor:pointer" @click=${this._openNav}>&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &#9776; open</span>
        
      </div>

      <!-- main content -->
      <main role="main" class="main-content">
        <home-view class="pathname" ?active="${"/"===this.pathname}"></home-view>
        <coverages-view class="pathname" ?active="${"/coverages"===this.pathname}"></coverages-view>
        <businessinfo-view class="pathname" ?active="${"/businessinfo"===this.pathname}"></businessinfo-view>
        <operations-view class="pathname" ?active="${"/operations"===this.pathname}"></operations-view>
        <sales-view class="pathname" ?active="${"/sales"===this.pathname}"></sales-view>
      </main>
    `}}customElements.define("cannabis-app",W)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpYi9kaXJlY3RpdmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpYi9kb20uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpYi9wYXJ0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saWIvdGVtcGxhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpYi90ZW1wbGF0ZS1pbnN0YW5jZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGliL3RlbXBsYXRlLXJlc3VsdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGliL3BhcnRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saWIvZGVmYXVsdC10ZW1wbGF0ZS1wcm9jZXNzb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpYi90ZW1wbGF0ZS1mYWN0b3J5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saWIvcmVuZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saXQtaHRtbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHdhLWhlbHBlcnMvcm91dGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9ob21lLXZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvdmVyYWdlcy12aWV3LmpzIiwid2VicGFjazovLy8uL3NyYy9idXNpbmVzc2luZm8tdmlldy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvb3BlcmF0aW9ucy12aWV3LmpzIiwid2VicGFjazovLy8uL3NyYy9zYWxlc3Byb2plY3Rpb25zLXZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Nhbm5hYmlzLWFwcC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImRpcmVjdGl2ZXMiLCJXZWFrTWFwIiwiaXNEaXJlY3RpdmUiLCJoYXMiLCJpc0NFUG9seWZpbGwiLCJ1bmRlZmluZWQiLCJ3aW5kb3ciLCJjdXN0b21FbGVtZW50cyIsInBvbHlmaWxsV3JhcEZsdXNoQ2FsbGJhY2siLCJyZW1vdmVOb2RlcyIsImNvbnRhaW5lciIsInN0YXJ0IiwiZW5kIiwibmV4dFNpYmxpbmciLCJyZW1vdmVDaGlsZCIsIm5vQ2hhbmdlIiwibm90aGluZyIsIm1hcmtlciIsIlN0cmluZyIsIk1hdGgiLCJyYW5kb20iLCJzbGljZSIsIm5vZGVNYXJrZXIiLCJtYXJrZXJSZWdleCIsIlJlZ0V4cCIsImJvdW5kQXR0cmlidXRlU3VmZml4IiwiVGVtcGxhdGUiLCJyZXN1bHQiLCJlbGVtZW50IiwidGhpcyIsInBhcnRzIiwibm9kZXNUb1JlbW92ZSIsInN0YWNrIiwid2Fsa2VyIiwiZG9jdW1lbnQiLCJjcmVhdGVUcmVlV2Fsa2VyIiwiY29udGVudCIsImxhc3RQYXJ0SW5kZXgiLCJpbmRleCIsInBhcnRJbmRleCIsInN0cmluZ3MiLCJ2YWx1ZXMiLCJsZW5ndGgiLCJub2RlIiwibmV4dE5vZGUiLCJub2RlVHlwZSIsImhhc0F0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzIiwiY291bnQiLCJlbmRzV2l0aCIsInN0cmluZ0ZvclBhcnQiLCJsYXN0QXR0cmlidXRlTmFtZVJlZ2V4IiwiZXhlYyIsImF0dHJpYnV0ZUxvb2t1cE5hbWUiLCJ0b0xvd2VyQ2FzZSIsImF0dHJpYnV0ZVZhbHVlIiwiZ2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwic3RhdGljcyIsInNwbGl0IiwicHVzaCIsInR5cGUiLCJ0YWdOYW1lIiwiY3VycmVudE5vZGUiLCJkYXRhIiwiaW5kZXhPZiIsInBhcmVudCIsInBhcmVudE5vZGUiLCJsYXN0SW5kZXgiLCJpbnNlcnQiLCJjcmVhdGVNYXJrZXIiLCJtYXRjaCIsImNyZWF0ZVRleHROb2RlIiwiaW5zZXJ0QmVmb3JlIiwicHJldmlvdXNTaWJsaW5nIiwicG9wIiwic3RyIiwic3VmZml4IiwiaXNUZW1wbGF0ZVBhcnRBY3RpdmUiLCJwYXJ0IiwiY3JlYXRlQ29tbWVudCIsInRlbXBsYXRlIiwicHJvY2Vzc29yIiwib3B0aW9ucyIsIl9fcGFydHMiLCJzZXRWYWx1ZSIsImNvbW1pdCIsImZyYWdtZW50IiwiY2xvbmVOb2RlIiwiaW1wb3J0Tm9kZSIsIm5vZGVJbmRleCIsIm5vZGVOYW1lIiwiaGFuZGxlVGV4dEV4cHJlc3Npb24iLCJpbnNlcnRBZnRlck5vZGUiLCJoYW5kbGVBdHRyaWJ1dGVFeHByZXNzaW9ucyIsImFkb3B0Tm9kZSIsInVwZ3JhZGUiLCJjb21tZW50TWFya2VyIiwiaHRtbCIsImlzQ29tbWVudEJpbmRpbmciLCJjb21tZW50T3BlbiIsImxhc3RJbmRleE9mIiwiYXR0cmlidXRlTWF0Y2giLCJzdWJzdHIiLCJjcmVhdGVFbGVtZW50IiwiaW5uZXJIVE1MIiwiZ2V0SFRNTCIsImlzUHJpbWl0aXZlIiwiaXNJdGVyYWJsZSIsIkFycmF5IiwiaXNBcnJheSIsIml0ZXJhdG9yIiwiQXR0cmlidXRlQ29tbWl0dGVyIiwiZGlydHkiLCJfY3JlYXRlUGFydCIsInRleHQiLCJ2Iiwic2V0QXR0cmlidXRlIiwiX2dldFZhbHVlIiwiY29tbWl0dGVyIiwiZGlyZWN0aXZlIiwiX19wZW5kaW5nVmFsdWUiLCJzdGFydE5vZGUiLCJhcHBlbmRDaGlsZCIsImVuZE5vZGUiLCJyZWYiLCJfX2luc2VydCIsIl9fY29tbWl0VGV4dCIsIl9fY29tbWl0VGVtcGxhdGVSZXN1bHQiLCJOb2RlIiwiX19jb21taXROb2RlIiwiX19jb21taXRJdGVyYWJsZSIsImNsZWFyIiwidmFsdWVBc1N0cmluZyIsInRlbXBsYXRlRmFjdG9yeSIsInVwZGF0ZSIsImluc3RhbmNlIiwiX2Nsb25lIiwiaXRlbVBhcnRzIiwiaXRlbVBhcnQiLCJpdGVtIiwiYXBwZW5kSW50b1BhcnQiLCJpbnNlcnRBZnRlclBhcnQiLCJFcnJvciIsIlByb3BlcnR5Q29tbWl0dGVyIiwic3VwZXIiLCJzaW5nbGUiLCJQcm9wZXJ0eVBhcnQiLCJldmVudE9wdGlvbnNTdXBwb3J0ZWQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl9lIiwiZXZlbnROYW1lIiwiZXZlbnRDb250ZXh0IiwiX19ib3VuZEhhbmRsZUV2ZW50IiwiZSIsImhhbmRsZUV2ZW50IiwibmV3TGlzdGVuZXIiLCJvbGRMaXN0ZW5lciIsInNob3VsZFJlbW92ZUxpc3RlbmVyIiwiY2FwdHVyZSIsIm9uY2UiLCJwYXNzaXZlIiwic2hvdWxkQWRkTGlzdGVuZXIiLCJfX29wdGlvbnMiLCJnZXRPcHRpb25zIiwiZXZlbnQiLCJkZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3IiLCJwcmVmaXgiLCJ0ZW1wbGF0ZUNhY2hlIiwidGVtcGxhdGVDYWNoZXMiLCJzdHJpbmdzQXJyYXkiLCJrZXlTdHJpbmciLCJNYXAiLCJzZXQiLCJqb2luIiwiZ2V0VGVtcGxhdGVFbGVtZW50IiwicmVuZGVyIiwiZmlyc3RDaGlsZCIsImFzc2lnbiIsImFwcGVuZEludG8iLCJpbnN0YWxsUm91dGVyIiwibG9jYXRpb25VcGRhdGVkQ2FsbGJhY2siLCJib2R5IiwiZGVmYXVsdFByZXZlbnRlZCIsImJ1dHRvbiIsIm1ldGFLZXkiLCJjdHJsS2V5Iiwic2hpZnRLZXkiLCJhbmNob3IiLCJjb21wb3NlZFBhdGgiLCJmaWx0ZXIiLCJ0YXJnZXQiLCJoYXNBdHRyaWJ1dGUiLCJocmVmIiwibG9jYXRpb24iLCJvcmlnaW4iLCJwcm90b2NvbCIsImhvc3QiLCJwcmV2ZW50RGVmYXVsdCIsImhpc3RvcnkiLCJwdXNoU3RhdGUiLCJIVE1MRWxlbWVudCIsIl9zaGFkb3dSb290IiwiYXR0YWNoU2hhZG93IiwiZGVmaW5lIiwiX3BhdGhuYW1lIiwidmFsIiwicGF0aG5hbWUiLCJfaGFuZGxlTmF2aWdhdGlvbiIsIl9nZXRVc2VyTmFtZSIsImNvbnNvbGUiLCJsb2ciLCJxdWVyeVNlbGVjdG9yIiwic3R5bGUiLCJ3aWR0aCIsIm1hcmdpbkxlZnQiLCJkaXNwbGF5IiwiX2Nsb3NlTmF2IiwiX29wZW5OYXYiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FF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QUs4SyxZQUFhLENBQUNsRCxhQUFjNUgsT0FHM0QsMEJBQ0VvSixFQUFPcEosS0FBS29ELFdBQVlwRCxLQUFLOEssWUFBYSxDQUFDbEQsYUFBYzVILE9BR3pEd0osRUFBZWMsR0FBYXRLLEtBQUtvTCxrQkFBa0JkLEVBQVNhLFdBRTVEMU0sT0FBT2tNLFFBQVFDLFVBQVUsR0FBSSxHQUFJLEtBQ2pDNUssS0FBS29MLG9CQUlQLHVCQUNFcEwsS0FBS3lILG9CQUFvQixPQUFTSyxHQUFNOUgsS0FBS3FMLGFBQWF2RCxJQUFJLEdBS2hFLFdBQ0V3RCxRQUFRQyxJQUFJLHNCQUNadkwsS0FBSzhLLFlBQVlVLGNBQWMsaUJBQWlCQyxNQUFNQyxNQUFRLFFBQzlEMUwsS0FBSzhLLFlBQVlVLGNBQWMsUUFBUUMsTUFBTUUsV0FBYSxRQUMxRDNMLEtBQUs4SyxZQUFZVSxjQUFjLGNBQWNDLE1BQU1HLFFBQVUsT0FHL0QsWUFDRTVMLEtBQUs4SyxZQUFZVSxjQUFjLGlCQUFpQkMsTUFBTUMsTUFBUSxJQUM5RDFMLEtBQUs4SyxZQUFZVSxjQUFjLFFBQVFDLE1BQU1FLFdBQWEsSUFDMUQzTCxLQUFLOEssWUFBWVUsY0FBYyxjQUFjQyxNQUFNRyxRQUFVLFFBSy9ELFdBQ0UsT0FBTyxDQUFJOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OytEQWlHZ0Q1TCxLQUFLNkw7Ozs7Ozs7OzZEQVFQN0wsS0FBSzhMOzs7Ozs7K0NBTUQsTUFBbEI5TCxLQUFLbUw7b0RBQ2tCLGVBQWxCbkwsS0FBS21MO3VEQUNnQixrQkFBbEJuTCxLQUFLbUw7cURBQ1csZ0JBQWxCbkwsS0FBS21MO2dEQUNRLFdBQWxCbkwsS0FBS21MOztPQU9yRHpNLGVBQWVzTSxPQUFPLGVBQWdCIiwiZmlsZSI6Im1haW4uYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuY29uc3QgZGlyZWN0aXZlcyA9IG5ldyBXZWFrTWFwKCk7XG4vKipcbiAqIEJyYW5kcyBhIGZ1bmN0aW9uIGFzIGEgZGlyZWN0aXZlIGZhY3RvcnkgZnVuY3Rpb24gc28gdGhhdCBsaXQtaHRtbCB3aWxsIGNhbGxcbiAqIHRoZSBmdW5jdGlvbiBkdXJpbmcgdGVtcGxhdGUgcmVuZGVyaW5nLCByYXRoZXIgdGhhbiBwYXNzaW5nIGFzIGEgdmFsdWUuXG4gKlxuICogQSBfZGlyZWN0aXZlXyBpcyBhIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSBQYXJ0IGFzIGFuIGFyZ3VtZW50LiBJdCBoYXMgdGhlXG4gKiBzaWduYXR1cmU6IGAocGFydDogUGFydCkgPT4gdm9pZGAuXG4gKlxuICogQSBkaXJlY3RpdmUgX2ZhY3RvcnlfIGlzIGEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhcmd1bWVudHMgZm9yIGRhdGEgYW5kXG4gKiBjb25maWd1cmF0aW9uIGFuZCByZXR1cm5zIGEgZGlyZWN0aXZlLiBVc2VycyBvZiBkaXJlY3RpdmUgdXN1YWxseSByZWZlciB0b1xuICogdGhlIGRpcmVjdGl2ZSBmYWN0b3J5IGFzIHRoZSBkaXJlY3RpdmUuIEZvciBleGFtcGxlLCBcIlRoZSByZXBlYXQgZGlyZWN0aXZlXCIuXG4gKlxuICogVXN1YWxseSBhIHRlbXBsYXRlIGF1dGhvciB3aWxsIGludm9rZSBhIGRpcmVjdGl2ZSBmYWN0b3J5IGluIHRoZWlyIHRlbXBsYXRlXG4gKiB3aXRoIHJlbGV2YW50IGFyZ3VtZW50cywgd2hpY2ggd2lsbCB0aGVuIHJldHVybiBhIGRpcmVjdGl2ZSBmdW5jdGlvbi5cbiAqXG4gKiBIZXJlJ3MgYW4gZXhhbXBsZSBvZiB1c2luZyB0aGUgYHJlcGVhdCgpYCBkaXJlY3RpdmUgZmFjdG9yeSB0aGF0IHRha2VzIGFuXG4gKiBhcnJheSBhbmQgYSBmdW5jdGlvbiB0byByZW5kZXIgYW4gaXRlbTpcbiAqXG4gKiBgYGBqc1xuICogaHRtbGA8dWw+PCR7cmVwZWF0KGl0ZW1zLCAoaXRlbSkgPT4gaHRtbGA8bGk+JHtpdGVtfTwvbGk+YCl9PC91bD5gXG4gKiBgYGBcbiAqXG4gKiBXaGVuIGByZXBlYXRgIGlzIGludm9rZWQsIGl0IHJldHVybnMgYSBkaXJlY3RpdmUgZnVuY3Rpb24gdGhhdCBjbG9zZXMgb3ZlclxuICogYGl0ZW1zYCBhbmQgdGhlIHRlbXBsYXRlIGZ1bmN0aW9uLiBXaGVuIHRoZSBvdXRlciB0ZW1wbGF0ZSBpcyByZW5kZXJlZCwgdGhlXG4gKiByZXR1cm4gZGlyZWN0aXZlIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aXRoIHRoZSBQYXJ0IGZvciB0aGUgZXhwcmVzc2lvbi5cbiAqIGByZXBlYXRgIHRoZW4gcGVyZm9ybXMgaXQncyBjdXN0b20gbG9naWMgdG8gcmVuZGVyIG11bHRpcGxlIGl0ZW1zLlxuICpcbiAqIEBwYXJhbSBmIFRoZSBkaXJlY3RpdmUgZmFjdG9yeSBmdW5jdGlvbi4gTXVzdCBiZSBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhXG4gKiBmdW5jdGlvbiBvZiB0aGUgc2lnbmF0dXJlIGAocGFydDogUGFydCkgPT4gdm9pZGAuIFRoZSByZXR1cm5lZCBmdW5jdGlvbiB3aWxsXG4gKiBiZSBjYWxsZWQgd2l0aCB0aGUgcGFydCBvYmplY3QuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBpbXBvcnQge2RpcmVjdGl2ZSwgaHRtbH0gZnJvbSAnbGl0LWh0bWwnO1xuICpcbiAqIGNvbnN0IGltbXV0YWJsZSA9IGRpcmVjdGl2ZSgodikgPT4gKHBhcnQpID0+IHtcbiAqICAgaWYgKHBhcnQudmFsdWUgIT09IHYpIHtcbiAqICAgICBwYXJ0LnNldFZhbHVlKHYpXG4gKiAgIH1cbiAqIH0pO1xuICovXG5leHBvcnQgY29uc3QgZGlyZWN0aXZlID0gKGYpID0+ICgoLi4uYXJncykgPT4ge1xuICAgIGNvbnN0IGQgPSBmKC4uLmFyZ3MpO1xuICAgIGRpcmVjdGl2ZXMuc2V0KGQsIHRydWUpO1xuICAgIHJldHVybiBkO1xufSk7XG5leHBvcnQgY29uc3QgaXNEaXJlY3RpdmUgPSAobykgPT4ge1xuICAgIHJldHVybiB0eXBlb2YgbyA9PT0gJ2Z1bmN0aW9uJyAmJiBkaXJlY3RpdmVzLmhhcyhvKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaXJlY3RpdmUuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuLyoqXG4gKiBUcnVlIGlmIHRoZSBjdXN0b20gZWxlbWVudHMgcG9seWZpbGwgaXMgaW4gdXNlLlxuICovXG5leHBvcnQgY29uc3QgaXNDRVBvbHlmaWxsID0gd2luZG93LmN1c3RvbUVsZW1lbnRzICE9PSB1bmRlZmluZWQgJiZcbiAgICB3aW5kb3cuY3VzdG9tRWxlbWVudHMucG9seWZpbGxXcmFwRmx1c2hDYWxsYmFjayAhPT1cbiAgICAgICAgdW5kZWZpbmVkO1xuLyoqXG4gKiBSZXBhcmVudHMgbm9kZXMsIHN0YXJ0aW5nIGZyb20gYHN0YXJ0YCAoaW5jbHVzaXZlKSB0byBgZW5kYCAoZXhjbHVzaXZlKSxcbiAqIGludG8gYW5vdGhlciBjb250YWluZXIgKGNvdWxkIGJlIHRoZSBzYW1lIGNvbnRhaW5lciksIGJlZm9yZSBgYmVmb3JlYC4gSWZcbiAqIGBiZWZvcmVgIGlzIG51bGwsIGl0IGFwcGVuZHMgdGhlIG5vZGVzIHRvIHRoZSBjb250YWluZXIuXG4gKi9cbmV4cG9ydCBjb25zdCByZXBhcmVudE5vZGVzID0gKGNvbnRhaW5lciwgc3RhcnQsIGVuZCA9IG51bGwsIGJlZm9yZSA9IG51bGwpID0+IHtcbiAgICB3aGlsZSAoc3RhcnQgIT09IGVuZCkge1xuICAgICAgICBjb25zdCBuID0gc3RhcnQubmV4dFNpYmxpbmc7XG4gICAgICAgIGNvbnRhaW5lci5pbnNlcnRCZWZvcmUoc3RhcnQsIGJlZm9yZSk7XG4gICAgICAgIHN0YXJ0ID0gbjtcbiAgICB9XG59O1xuLyoqXG4gKiBSZW1vdmVzIG5vZGVzLCBzdGFydGluZyBmcm9tIGBzdGFydGAgKGluY2x1c2l2ZSkgdG8gYGVuZGAgKGV4Y2x1c2l2ZSksIGZyb21cbiAqIGBjb250YWluZXJgLlxuICovXG5leHBvcnQgY29uc3QgcmVtb3ZlTm9kZXMgPSAoY29udGFpbmVyLCBzdGFydCwgZW5kID0gbnVsbCkgPT4ge1xuICAgIHdoaWxlIChzdGFydCAhPT0gZW5kKSB7XG4gICAgICAgIGNvbnN0IG4gPSBzdGFydC5uZXh0U2libGluZztcbiAgICAgICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKHN0YXJ0KTtcbiAgICAgICAgc3RhcnQgPSBuO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kb20uanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE4IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuLyoqXG4gKiBBIHNlbnRpbmVsIHZhbHVlIHRoYXQgc2lnbmFscyB0aGF0IGEgdmFsdWUgd2FzIGhhbmRsZWQgYnkgYSBkaXJlY3RpdmUgYW5kXG4gKiBzaG91bGQgbm90IGJlIHdyaXR0ZW4gdG8gdGhlIERPTS5cbiAqL1xuZXhwb3J0IGNvbnN0IG5vQ2hhbmdlID0ge307XG4vKipcbiAqIEEgc2VudGluZWwgdmFsdWUgdGhhdCBzaWduYWxzIGEgTm9kZVBhcnQgdG8gZnVsbHkgY2xlYXIgaXRzIGNvbnRlbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBub3RoaW5nID0ge307XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXJ0LmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbi8qKlxuICogQW4gZXhwcmVzc2lvbiBtYXJrZXIgd2l0aCBlbWJlZGRlZCB1bmlxdWUga2V5IHRvIGF2b2lkIGNvbGxpc2lvbiB3aXRoXG4gKiBwb3NzaWJsZSB0ZXh0IGluIHRlbXBsYXRlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IG1hcmtlciA9IGB7e2xpdC0ke1N0cmluZyhNYXRoLnJhbmRvbSgpKS5zbGljZSgyKX19fWA7XG4vKipcbiAqIEFuIGV4cHJlc3Npb24gbWFya2VyIHVzZWQgdGV4dC1wb3NpdGlvbnMsIG11bHRpLWJpbmRpbmcgYXR0cmlidXRlcywgYW5kXG4gKiBhdHRyaWJ1dGVzIHdpdGggbWFya3VwLWxpa2UgdGV4dCB2YWx1ZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBub2RlTWFya2VyID0gYDwhLS0ke21hcmtlcn0tLT5gO1xuZXhwb3J0IGNvbnN0IG1hcmtlclJlZ2V4ID0gbmV3IFJlZ0V4cChgJHttYXJrZXJ9fCR7bm9kZU1hcmtlcn1gKTtcbi8qKlxuICogU3VmZml4IGFwcGVuZGVkIHRvIGFsbCBib3VuZCBhdHRyaWJ1dGUgbmFtZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBib3VuZEF0dHJpYnV0ZVN1ZmZpeCA9ICckbGl0JCc7XG4vKipcbiAqIEFuIHVwZGF0ZWFibGUgVGVtcGxhdGUgdGhhdCB0cmFja3MgdGhlIGxvY2F0aW9uIG9mIGR5bmFtaWMgcGFydHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBUZW1wbGF0ZSB7XG4gICAgY29uc3RydWN0b3IocmVzdWx0LCBlbGVtZW50KSB7XG4gICAgICAgIHRoaXMucGFydHMgPSBbXTtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgY29uc3Qgbm9kZXNUb1JlbW92ZSA9IFtdO1xuICAgICAgICBjb25zdCBzdGFjayA9IFtdO1xuICAgICAgICAvLyBFZGdlIG5lZWRzIGFsbCA0IHBhcmFtZXRlcnMgcHJlc2VudDsgSUUxMSBuZWVkcyAzcmQgcGFyYW1ldGVyIHRvIGJlIG51bGxcbiAgICAgICAgY29uc3Qgd2Fsa2VyID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihlbGVtZW50LmNvbnRlbnQsIDEzMyAvKiBOb2RlRmlsdGVyLlNIT1dfe0VMRU1FTlR8Q09NTUVOVHxURVhUfSAqLywgbnVsbCwgZmFsc2UpO1xuICAgICAgICAvLyBLZWVwcyB0cmFjayBvZiB0aGUgbGFzdCBpbmRleCBhc3NvY2lhdGVkIHdpdGggYSBwYXJ0LiBXZSB0cnkgdG8gZGVsZXRlXG4gICAgICAgIC8vIHVubmVjZXNzYXJ5IG5vZGVzLCBidXQgd2UgbmV2ZXIgd2FudCB0byBhc3NvY2lhdGUgdHdvIGRpZmZlcmVudCBwYXJ0c1xuICAgICAgICAvLyB0byB0aGUgc2FtZSBpbmRleC4gVGhleSBtdXN0IGhhdmUgYSBjb25zdGFudCBub2RlIGJldHdlZW4uXG4gICAgICAgIGxldCBsYXN0UGFydEluZGV4ID0gMDtcbiAgICAgICAgbGV0IGluZGV4ID0gLTE7XG4gICAgICAgIGxldCBwYXJ0SW5kZXggPSAwO1xuICAgICAgICBjb25zdCB7IHN0cmluZ3MsIHZhbHVlczogeyBsZW5ndGggfSB9ID0gcmVzdWx0O1xuICAgICAgICB3aGlsZSAocGFydEluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBub2RlID0gd2Fsa2VyLm5leHROb2RlKCk7XG4gICAgICAgICAgICBpZiAobm9kZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIFdlJ3ZlIGV4aGF1c3RlZCB0aGUgY29udGVudCBpbnNpZGUgYSBuZXN0ZWQgdGVtcGxhdGUgZWxlbWVudC5cbiAgICAgICAgICAgICAgICAvLyBCZWNhdXNlIHdlIHN0aWxsIGhhdmUgcGFydHMgKHRoZSBvdXRlciBmb3ItbG9vcCksIHdlIGtub3c6XG4gICAgICAgICAgICAgICAgLy8gLSBUaGVyZSBpcyBhIHRlbXBsYXRlIGluIHRoZSBzdGFja1xuICAgICAgICAgICAgICAgIC8vIC0gVGhlIHdhbGtlciB3aWxsIGZpbmQgYSBuZXh0Tm9kZSBvdXRzaWRlIHRoZSB0ZW1wbGF0ZVxuICAgICAgICAgICAgICAgIHdhbGtlci5jdXJyZW50Tm9kZSA9IHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAxIC8qIE5vZGUuRUxFTUVOVF9OT0RFICovKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuaGFzQXR0cmlidXRlcygpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBub2RlLmF0dHJpYnV0ZXM7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgbGVuZ3RoIH0gPSBhdHRyaWJ1dGVzO1xuICAgICAgICAgICAgICAgICAgICAvLyBQZXJcbiAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL05hbWVkTm9kZU1hcCxcbiAgICAgICAgICAgICAgICAgICAgLy8gYXR0cmlidXRlcyBhcmUgbm90IGd1YXJhbnRlZWQgdG8gYmUgcmV0dXJuZWQgaW4gZG9jdW1lbnQgb3JkZXIuXG4gICAgICAgICAgICAgICAgICAgIC8vIEluIHBhcnRpY3VsYXIsIEVkZ2UvSUUgY2FuIHJldHVybiB0aGVtIG91dCBvZiBvcmRlciwgc28gd2UgY2Fubm90XG4gICAgICAgICAgICAgICAgICAgIC8vIGFzc3VtZSBhIGNvcnJlc3BvbmRlbmNlIGJldHdlZW4gcGFydCBpbmRleCBhbmQgYXR0cmlidXRlIGluZGV4LlxuICAgICAgICAgICAgICAgICAgICBsZXQgY291bnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW5kc1dpdGgoYXR0cmlidXRlc1tpXS5uYW1lLCBib3VuZEF0dHJpYnV0ZVN1ZmZpeCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChjb3VudC0tID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gR2V0IHRoZSB0ZW1wbGF0ZSBsaXRlcmFsIHNlY3Rpb24gbGVhZGluZyB1cCB0byB0aGUgZmlyc3RcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGV4cHJlc3Npb24gaW4gdGhpcyBhdHRyaWJ1dGVcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0cmluZ0ZvclBhcnQgPSBzdHJpbmdzW3BhcnRJbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGaW5kIHRoZSBhdHRyaWJ1dGUgbmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IGxhc3RBdHRyaWJ1dGVOYW1lUmVnZXguZXhlYyhzdHJpbmdGb3JQYXJ0KVsyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpbmQgdGhlIGNvcnJlc3BvbmRpbmcgYXR0cmlidXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBbGwgYm91bmQgYXR0cmlidXRlcyBoYXZlIGhhZCBhIHN1ZmZpeCBhZGRlZCBpblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGVtcGxhdGVSZXN1bHQjZ2V0SFRNTCB0byBvcHQgb3V0IG9mIHNwZWNpYWwgYXR0cmlidXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBoYW5kbGluZy4gVG8gbG9vayB1cCB0aGUgYXR0cmlidXRlIHZhbHVlIHdlIGFsc28gbmVlZCB0byBhZGRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBzdWZmaXguXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVMb29rdXBOYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpICsgYm91bmRBdHRyaWJ1dGVTdWZmaXg7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVWYWx1ZSA9IG5vZGUuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZUxvb2t1cE5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlTG9va3VwTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGF0aWNzID0gYXR0cmlidXRlVmFsdWUuc3BsaXQobWFya2VyUmVnZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJ0cy5wdXNoKHsgdHlwZTogJ2F0dHJpYnV0ZScsIGluZGV4LCBuYW1lLCBzdHJpbmdzOiBzdGF0aWNzIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFydEluZGV4ICs9IHN0YXRpY3MubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobm9kZS50YWdOYW1lID09PSAnVEVNUExBVEUnKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2gobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIHdhbGtlci5jdXJyZW50Tm9kZSA9IG5vZGUuY29udGVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChub2RlLm5vZGVUeXBlID09PSAzIC8qIE5vZGUuVEVYVF9OT0RFICovKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IG5vZGUuZGF0YTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5pbmRleE9mKG1hcmtlcikgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnQgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0cmluZ3MgPSBkYXRhLnNwbGl0KG1hcmtlclJlZ2V4KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdEluZGV4ID0gc3RyaW5ncy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICAvLyBHZW5lcmF0ZSBhIG5ldyB0ZXh0IG5vZGUgZm9yIGVhY2ggbGl0ZXJhbCBzZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZXNlIG5vZGVzIGFyZSBhbHNvIHVzZWQgYXMgdGhlIG1hcmtlcnMgZm9yIG5vZGUgcGFydHNcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsYXN0SW5kZXg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGluc2VydDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzID0gc3RyaW5nc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzID09PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydCA9IGNyZWF0ZU1hcmtlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSBsYXN0QXR0cmlidXRlTmFtZVJlZ2V4LmV4ZWMocyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoICE9PSBudWxsICYmIGVuZHNXaXRoKG1hdGNoWzJdLCBib3VuZEF0dHJpYnV0ZVN1ZmZpeCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcyA9IHMuc2xpY2UoMCwgbWF0Y2guaW5kZXgpICsgbWF0Y2hbMV0gK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hbMl0uc2xpY2UoMCwgLWJvdW5kQXR0cmlidXRlU3VmZml4Lmxlbmd0aCkgKyBtYXRjaFszXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zZXJ0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUocyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGluc2VydCwgbm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcnRzLnB1c2goeyB0eXBlOiAnbm9kZScsIGluZGV4OiArK2luZGV4IH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gdGV4dCwgd2UgbXVzdCBpbnNlcnQgYSBjb21tZW50IHRvIG1hcmsgb3VyIHBsYWNlLlxuICAgICAgICAgICAgICAgICAgICAvLyBFbHNlLCB3ZSBjYW4gdHJ1c3QgaXQgd2lsbCBzdGljayBhcm91bmQgYWZ0ZXIgY2xvbmluZy5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cmluZ3NbbGFzdEluZGV4XSA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoY3JlYXRlTWFya2VyKCksIG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZXNUb1JlbW92ZS5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5kYXRhID0gc3RyaW5nc1tsYXN0SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIGhhdmUgYSBwYXJ0IGZvciBlYWNoIG1hdGNoIGZvdW5kXG4gICAgICAgICAgICAgICAgICAgIHBhcnRJbmRleCArPSBsYXN0SW5kZXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobm9kZS5ub2RlVHlwZSA9PT0gOCAvKiBOb2RlLkNPTU1FTlRfTk9ERSAqLykge1xuICAgICAgICAgICAgICAgIGlmIChub2RlLmRhdGEgPT09IG1hcmtlcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnQgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCBhIG5ldyBtYXJrZXIgbm9kZSB0byBiZSB0aGUgc3RhcnROb2RlIG9mIHRoZSBQYXJ0IGlmIGFueSBvZlxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgZm9sbG93aW5nIGFyZSB0cnVlOlxuICAgICAgICAgICAgICAgICAgICAvLyAgKiBXZSBkb24ndCBoYXZlIGEgcHJldmlvdXNTaWJsaW5nXG4gICAgICAgICAgICAgICAgICAgIC8vICAqIFRoZSBwcmV2aW91c1NpYmxpbmcgaXMgYWxyZWFkeSB0aGUgc3RhcnQgb2YgYSBwcmV2aW91cyBwYXJ0XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLnByZXZpb3VzU2libGluZyA9PT0gbnVsbCB8fCBpbmRleCA9PT0gbGFzdFBhcnRJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoY3JlYXRlTWFya2VyKCksIG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxhc3RQYXJ0SW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJ0cy5wdXNoKHsgdHlwZTogJ25vZGUnLCBpbmRleCB9KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhIG5leHRTaWJsaW5nLCBrZWVwIHRoaXMgbm9kZSBzbyB3ZSBoYXZlIGFuIGVuZC5cbiAgICAgICAgICAgICAgICAgICAgLy8gRWxzZSwgd2UgY2FuIHJlbW92ZSBpdCB0byBzYXZlIGZ1dHVyZSBjb3N0cy5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUubmV4dFNpYmxpbmcgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuZGF0YSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZXNUb1JlbW92ZS5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgtLTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBwYXJ0SW5kZXgrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpID0gLTE7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICgoaSA9IG5vZGUuZGF0YS5pbmRleE9mKG1hcmtlciwgaSArIDEpKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbW1lbnQgbm9kZSBoYXMgYSBiaW5kaW5nIG1hcmtlciBpbnNpZGUsIG1ha2UgYW4gaW5hY3RpdmUgcGFydFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGJpbmRpbmcgd29uJ3Qgd29yaywgYnV0IHN1YnNlcXVlbnQgYmluZGluZ3Mgd2lsbFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyAoanVzdGluZmFnbmFuaSk6IGNvbnNpZGVyIHdoZXRoZXIgaXQncyBldmVuIHdvcnRoIGl0IHRvXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBtYWtlIGJpbmRpbmdzIGluIGNvbW1lbnRzIHdvcmtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFydHMucHVzaCh7IHR5cGU6ICdub2RlJywgaW5kZXg6IC0xIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFydEluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVtb3ZlIHRleHQgYmluZGluZyBub2RlcyBhZnRlciB0aGUgd2FsayB0byBub3QgZGlzdHVyYiB0aGUgVHJlZVdhbGtlclxuICAgICAgICBmb3IgKGNvbnN0IG4gb2Ygbm9kZXNUb1JlbW92ZSkge1xuICAgICAgICAgICAgbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG4pO1xuICAgICAgICB9XG4gICAgfVxufVxuY29uc3QgZW5kc1dpdGggPSAoc3RyLCBzdWZmaXgpID0+IHtcbiAgICBjb25zdCBpbmRleCA9IHN0ci5sZW5ndGggLSBzdWZmaXgubGVuZ3RoO1xuICAgIHJldHVybiBpbmRleCA+PSAwICYmIHN0ci5zbGljZShpbmRleCkgPT09IHN1ZmZpeDtcbn07XG5leHBvcnQgY29uc3QgaXNUZW1wbGF0ZVBhcnRBY3RpdmUgPSAocGFydCkgPT4gcGFydC5pbmRleCAhPT0gLTE7XG4vLyBBbGxvd3MgYGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJycpYCB0byBiZSByZW5hbWVkIGZvciBhXG4vLyBzbWFsbCBtYW51YWwgc2l6ZS1zYXZpbmdzLlxuZXhwb3J0IGNvbnN0IGNyZWF0ZU1hcmtlciA9ICgpID0+IGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJycpO1xuLyoqXG4gKiBUaGlzIHJlZ2V4IGV4dHJhY3RzIHRoZSBhdHRyaWJ1dGUgbmFtZSBwcmVjZWRpbmcgYW4gYXR0cmlidXRlLXBvc2l0aW9uXG4gKiBleHByZXNzaW9uLiBJdCBkb2VzIHRoaXMgYnkgbWF0Y2hpbmcgdGhlIHN5bnRheCBhbGxvd2VkIGZvciBhdHRyaWJ1dGVzXG4gKiBhZ2FpbnN0IHRoZSBzdHJpbmcgbGl0ZXJhbCBkaXJlY3RseSBwcmVjZWRpbmcgdGhlIGV4cHJlc3Npb24sIGFzc3VtaW5nIHRoYXRcbiAqIHRoZSBleHByZXNzaW9uIGlzIGluIGFuIGF0dHJpYnV0ZS12YWx1ZSBwb3NpdGlvbi5cbiAqXG4gKiBTZWUgYXR0cmlidXRlcyBpbiB0aGUgSFRNTCBzcGVjOlxuICogaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1L3N5bnRheC5odG1sI2VsZW1lbnRzLWF0dHJpYnV0ZXNcbiAqXG4gKiBcIiBcXHgwOVxceDBhXFx4MGNcXHgwZFwiIGFyZSBIVE1MIHNwYWNlIGNoYXJhY3RlcnM6XG4gKiBodHRwczovL3d3dy53My5vcmcvVFIvaHRtbDUvaW5mcmFzdHJ1Y3R1cmUuaHRtbCNzcGFjZS1jaGFyYWN0ZXJzXG4gKlxuICogXCJcXDAtXFx4MUZcXHg3Ri1cXHg5RlwiIGFyZSBVbmljb2RlIGNvbnRyb2wgY2hhcmFjdGVycywgd2hpY2ggaW5jbHVkZXMgZXZlcnlcbiAqIHNwYWNlIGNoYXJhY3RlciBleGNlcHQgXCIgXCIuXG4gKlxuICogU28gYW4gYXR0cmlidXRlIGlzOlxuICogICogVGhlIG5hbWU6IGFueSBjaGFyYWN0ZXIgZXhjZXB0IGEgY29udHJvbCBjaGFyYWN0ZXIsIHNwYWNlIGNoYXJhY3RlciwgKCcpLFxuICogICAgKFwiKSwgXCI+XCIsIFwiPVwiLCBvciBcIi9cIlxuICogICogRm9sbG93ZWQgYnkgemVybyBvciBtb3JlIHNwYWNlIGNoYXJhY3RlcnNcbiAqICAqIEZvbGxvd2VkIGJ5IFwiPVwiXG4gKiAgKiBGb2xsb3dlZCBieSB6ZXJvIG9yIG1vcmUgc3BhY2UgY2hhcmFjdGVyc1xuICogICogRm9sbG93ZWQgYnk6XG4gKiAgICAqIEFueSBjaGFyYWN0ZXIgZXhjZXB0IHNwYWNlLCAoJyksIChcIiksIFwiPFwiLCBcIj5cIiwgXCI9XCIsIChgKSwgb3JcbiAqICAgICogKFwiKSB0aGVuIGFueSBub24tKFwiKSwgb3JcbiAqICAgICogKCcpIHRoZW4gYW55IG5vbi0oJylcbiAqL1xuZXhwb3J0IGNvbnN0IGxhc3RBdHRyaWJ1dGVOYW1lUmVnZXggPSAvKFsgXFx4MDlcXHgwYVxceDBjXFx4MGRdKShbXlxcMC1cXHgxRlxceDdGLVxceDlGIFwiJz49L10rKShbIFxceDA5XFx4MGFcXHgwY1xceDBkXSo9WyBcXHgwOVxceDBhXFx4MGNcXHgwZF0qKD86W14gXFx4MDlcXHgwYVxceDBjXFx4MGRcIidgPD49XSp8XCJbXlwiXSp8J1teJ10qKSkkLztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRlbXBsYXRlLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbi8qKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICovXG5pbXBvcnQgeyBpc0NFUG9seWZpbGwgfSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQgeyBpc1RlbXBsYXRlUGFydEFjdGl2ZSB9IGZyb20gJy4vdGVtcGxhdGUuanMnO1xuLyoqXG4gKiBBbiBpbnN0YW5jZSBvZiBhIGBUZW1wbGF0ZWAgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gdGhlIERPTSBhbmQgdXBkYXRlZFxuICogd2l0aCBuZXcgdmFsdWVzLlxuICovXG5leHBvcnQgY2xhc3MgVGVtcGxhdGVJbnN0YW5jZSB7XG4gICAgY29uc3RydWN0b3IodGVtcGxhdGUsIHByb2Nlc3Nvciwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLl9fcGFydHMgPSBbXTtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgICAgICB0aGlzLnByb2Nlc3NvciA9IHByb2Nlc3NvcjtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB9XG4gICAgdXBkYXRlKHZhbHVlcykge1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgcGFydCBvZiB0aGlzLl9fcGFydHMpIHtcbiAgICAgICAgICAgIGlmIChwYXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBwYXJ0LnNldFZhbHVlKHZhbHVlc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIHRoaXMuX19wYXJ0cykge1xuICAgICAgICAgICAgaWYgKHBhcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHBhcnQuY29tbWl0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2Nsb25lKCkge1xuICAgICAgICAvLyBUaGVyZSBhcmUgYSBudW1iZXIgb2Ygc3RlcHMgaW4gdGhlIGxpZmVjeWNsZSBvZiBhIHRlbXBsYXRlIGluc3RhbmNlJ3NcbiAgICAgICAgLy8gRE9NIGZyYWdtZW50OlxuICAgICAgICAvLyAgMS4gQ2xvbmUgLSBjcmVhdGUgdGhlIGluc3RhbmNlIGZyYWdtZW50XG4gICAgICAgIC8vICAyLiBBZG9wdCAtIGFkb3B0IGludG8gdGhlIG1haW4gZG9jdW1lbnRcbiAgICAgICAgLy8gIDMuIFByb2Nlc3MgLSBmaW5kIHBhcnQgbWFya2VycyBhbmQgY3JlYXRlIHBhcnRzXG4gICAgICAgIC8vICA0LiBVcGdyYWRlIC0gdXBncmFkZSBjdXN0b20gZWxlbWVudHNcbiAgICAgICAgLy8gIDUuIFVwZGF0ZSAtIHNldCBub2RlLCBhdHRyaWJ1dGUsIHByb3BlcnR5LCBldGMuLCB2YWx1ZXNcbiAgICAgICAgLy8gIDYuIENvbm5lY3QgLSBjb25uZWN0IHRvIHRoZSBkb2N1bWVudC4gT3B0aW9uYWwgYW5kIG91dHNpZGUgb2YgdGhpc1xuICAgICAgICAvLyAgICAgbWV0aG9kLlxuICAgICAgICAvL1xuICAgICAgICAvLyBXZSBoYXZlIGEgZmV3IGNvbnN0cmFpbnRzIG9uIHRoZSBvcmRlcmluZyBvZiB0aGVzZSBzdGVwczpcbiAgICAgICAgLy8gICogV2UgbmVlZCB0byB1cGdyYWRlIGJlZm9yZSB1cGRhdGluZywgc28gdGhhdCBwcm9wZXJ0eSB2YWx1ZXMgd2lsbCBwYXNzXG4gICAgICAgIC8vICAgIHRocm91Z2ggYW55IHByb3BlcnR5IHNldHRlcnMuXG4gICAgICAgIC8vICAqIFdlIHdvdWxkIGxpa2UgdG8gcHJvY2VzcyBiZWZvcmUgdXBncmFkaW5nIHNvIHRoYXQgd2UncmUgc3VyZSB0aGF0IHRoZVxuICAgICAgICAvLyAgICBjbG9uZWQgZnJhZ21lbnQgaXMgaW5lcnQgYW5kIG5vdCBkaXN0dXJiZWQgYnkgc2VsZi1tb2RpZnlpbmcgRE9NLlxuICAgICAgICAvLyAgKiBXZSB3YW50IGN1c3RvbSBlbGVtZW50cyB0byB1cGdyYWRlIGV2ZW4gaW4gZGlzY29ubmVjdGVkIGZyYWdtZW50cy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gR2l2ZW4gdGhlc2UgY29uc3RyYWludHMsIHdpdGggZnVsbCBjdXN0b20gZWxlbWVudHMgc3VwcG9ydCB3ZSB3b3VsZFxuICAgICAgICAvLyBwcmVmZXIgdGhlIG9yZGVyOiBDbG9uZSwgUHJvY2VzcywgQWRvcHQsIFVwZ3JhZGUsIFVwZGF0ZSwgQ29ubmVjdFxuICAgICAgICAvL1xuICAgICAgICAvLyBCdXQgU2FmYXJpIGRvb2VzIG5vdCBpbXBsZW1lbnQgQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5I3VwZ3JhZGUsIHNvIHdlXG4gICAgICAgIC8vIGNhbiBub3QgaW1wbGVtZW50IHRoYXQgb3JkZXIgYW5kIHN0aWxsIGhhdmUgdXBncmFkZS1iZWZvcmUtdXBkYXRlIGFuZFxuICAgICAgICAvLyB1cGdyYWRlIGRpc2Nvbm5lY3RlZCBmcmFnbWVudHMuIFNvIHdlIGluc3RlYWQgc2FjcmlmaWNlIHRoZVxuICAgICAgICAvLyBwcm9jZXNzLWJlZm9yZS11cGdyYWRlIGNvbnN0cmFpbnQsIHNpbmNlIGluIEN1c3RvbSBFbGVtZW50cyB2MSBlbGVtZW50c1xuICAgICAgICAvLyBtdXN0IG5vdCBtb2RpZnkgdGhlaXIgbGlnaHQgRE9NIGluIHRoZSBjb25zdHJ1Y3Rvci4gV2Ugc3RpbGwgaGF2ZSBpc3N1ZXNcbiAgICAgICAgLy8gd2hlbiBjby1leGlzdGluZyB3aXRoIENFdjAgZWxlbWVudHMgbGlrZSBQb2x5bWVyIDEsIGFuZCB3aXRoIHBvbHlmaWxsc1xuICAgICAgICAvLyB0aGF0IGRvbid0IHN0cmljdGx5IGFkaGVyZSB0byB0aGUgbm8tbW9kaWZpY2F0aW9uIHJ1bGUgYmVjYXVzZSBzaGFkb3dcbiAgICAgICAgLy8gRE9NLCB3aGljaCBtYXkgYmUgY3JlYXRlZCBpbiB0aGUgY29uc3RydWN0b3IsIGlzIGVtdWxhdGVkIGJ5IGJlaW5nIHBsYWNlZFxuICAgICAgICAvLyBpbiB0aGUgbGlnaHQgRE9NLlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGUgcmVzdWx0aW5nIG9yZGVyIGlzIG9uIG5hdGl2ZSBpczogQ2xvbmUsIEFkb3B0LCBVcGdyYWRlLCBQcm9jZXNzLFxuICAgICAgICAvLyBVcGRhdGUsIENvbm5lY3QuIGRvY3VtZW50LmltcG9ydE5vZGUoKSBwZXJmb3JtcyBDbG9uZSwgQWRvcHQsIGFuZCBVcGdyYWRlXG4gICAgICAgIC8vIGluIG9uZSBzdGVwLlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGUgQ3VzdG9tIEVsZW1lbnRzIHYxIHBvbHlmaWxsIHN1cHBvcnRzIHVwZ3JhZGUoKSwgc28gdGhlIG9yZGVyIHdoZW5cbiAgICAgICAgLy8gcG9seWZpbGxlZCBpcyB0aGUgbW9yZSBpZGVhbDogQ2xvbmUsIFByb2Nlc3MsIEFkb3B0LCBVcGdyYWRlLCBVcGRhdGUsXG4gICAgICAgIC8vIENvbm5lY3QuXG4gICAgICAgIGNvbnN0IGZyYWdtZW50ID0gaXNDRVBvbHlmaWxsID9cbiAgICAgICAgICAgIHRoaXMudGVtcGxhdGUuZWxlbWVudC5jb250ZW50LmNsb25lTm9kZSh0cnVlKSA6XG4gICAgICAgICAgICBkb2N1bWVudC5pbXBvcnROb2RlKHRoaXMudGVtcGxhdGUuZWxlbWVudC5jb250ZW50LCB0cnVlKTtcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBbXTtcbiAgICAgICAgY29uc3QgcGFydHMgPSB0aGlzLnRlbXBsYXRlLnBhcnRzO1xuICAgICAgICAvLyBFZGdlIG5lZWRzIGFsbCA0IHBhcmFtZXRlcnMgcHJlc2VudDsgSUUxMSBuZWVkcyAzcmQgcGFyYW1ldGVyIHRvIGJlIG51bGxcbiAgICAgICAgY29uc3Qgd2Fsa2VyID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihmcmFnbWVudCwgMTMzIC8qIE5vZGVGaWx0ZXIuU0hPV197RUxFTUVOVHxDT01NRU5UfFRFWFR9ICovLCBudWxsLCBmYWxzZSk7XG4gICAgICAgIGxldCBwYXJ0SW5kZXggPSAwO1xuICAgICAgICBsZXQgbm9kZUluZGV4ID0gMDtcbiAgICAgICAgbGV0IHBhcnQ7XG4gICAgICAgIGxldCBub2RlID0gd2Fsa2VyLm5leHROb2RlKCk7XG4gICAgICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgdGhlIG5vZGVzIGFuZCBwYXJ0cyBvZiBhIHRlbXBsYXRlXG4gICAgICAgIHdoaWxlIChwYXJ0SW5kZXggPCBwYXJ0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHBhcnQgPSBwYXJ0c1twYXJ0SW5kZXhdO1xuICAgICAgICAgICAgaWYgKCFpc1RlbXBsYXRlUGFydEFjdGl2ZShwYXJ0KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX19wYXJ0cy5wdXNoKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgcGFydEluZGV4Kys7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBQcm9ncmVzcyB0aGUgdHJlZSB3YWxrZXIgdW50aWwgd2UgZmluZCBvdXIgbmV4dCBwYXJ0J3Mgbm9kZS5cbiAgICAgICAgICAgIC8vIE5vdGUgdGhhdCBtdWx0aXBsZSBwYXJ0cyBtYXkgc2hhcmUgdGhlIHNhbWUgbm9kZSAoYXR0cmlidXRlIHBhcnRzXG4gICAgICAgICAgICAvLyBvbiBhIHNpbmdsZSBlbGVtZW50KSwgc28gdGhpcyBsb29wIG1heSBub3QgcnVuIGF0IGFsbC5cbiAgICAgICAgICAgIHdoaWxlIChub2RlSW5kZXggPCBwYXJ0LmluZGV4KSB7XG4gICAgICAgICAgICAgICAgbm9kZUluZGV4Kys7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUubm9kZU5hbWUgPT09ICdURU1QTEFURScpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhY2sucHVzaChub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgd2Fsa2VyLmN1cnJlbnROb2RlID0gbm9kZS5jb250ZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoKG5vZGUgPSB3YWxrZXIubmV4dE5vZGUoKSkgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UndmUgZXhoYXVzdGVkIHRoZSBjb250ZW50IGluc2lkZSBhIG5lc3RlZCB0ZW1wbGF0ZSBlbGVtZW50LlxuICAgICAgICAgICAgICAgICAgICAvLyBCZWNhdXNlIHdlIHN0aWxsIGhhdmUgcGFydHMgKHRoZSBvdXRlciBmb3ItbG9vcCksIHdlIGtub3c6XG4gICAgICAgICAgICAgICAgICAgIC8vIC0gVGhlcmUgaXMgYSB0ZW1wbGF0ZSBpbiB0aGUgc3RhY2tcbiAgICAgICAgICAgICAgICAgICAgLy8gLSBUaGUgd2Fsa2VyIHdpbGwgZmluZCBhIG5leHROb2RlIG91dHNpZGUgdGhlIHRlbXBsYXRlXG4gICAgICAgICAgICAgICAgICAgIHdhbGtlci5jdXJyZW50Tm9kZSA9IHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBub2RlID0gd2Fsa2VyLm5leHROb2RlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gV2UndmUgYXJyaXZlZCBhdCBvdXIgcGFydCdzIG5vZGUuXG4gICAgICAgICAgICBpZiAocGFydC50eXBlID09PSAnbm9kZScpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJ0ID0gdGhpcy5wcm9jZXNzb3IuaGFuZGxlVGV4dEV4cHJlc3Npb24odGhpcy5vcHRpb25zKTtcbiAgICAgICAgICAgICAgICBwYXJ0Lmluc2VydEFmdGVyTm9kZShub2RlLnByZXZpb3VzU2libGluZyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fX3BhcnRzLnB1c2gocGFydCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9fcGFydHMucHVzaCguLi50aGlzLnByb2Nlc3Nvci5oYW5kbGVBdHRyaWJ1dGVFeHByZXNzaW9ucyhub2RlLCBwYXJ0Lm5hbWUsIHBhcnQuc3RyaW5ncywgdGhpcy5vcHRpb25zKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJ0SW5kZXgrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNDRVBvbHlmaWxsKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5hZG9wdE5vZGUoZnJhZ21lbnQpO1xuICAgICAgICAgICAgY3VzdG9tRWxlbWVudHMudXBncmFkZShmcmFnbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZyYWdtZW50O1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRlbXBsYXRlLWluc3RhbmNlLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbi8qKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICovXG5pbXBvcnQgeyByZXBhcmVudE5vZGVzIH0gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHsgYm91bmRBdHRyaWJ1dGVTdWZmaXgsIGxhc3RBdHRyaWJ1dGVOYW1lUmVnZXgsIG1hcmtlciwgbm9kZU1hcmtlciB9IGZyb20gJy4vdGVtcGxhdGUuanMnO1xuY29uc3QgY29tbWVudE1hcmtlciA9IGAgJHttYXJrZXJ9IGA7XG4vKipcbiAqIFRoZSByZXR1cm4gdHlwZSBvZiBgaHRtbGAsIHdoaWNoIGhvbGRzIGEgVGVtcGxhdGUgYW5kIHRoZSB2YWx1ZXMgZnJvbVxuICogaW50ZXJwb2xhdGVkIGV4cHJlc3Npb25zLlxuICovXG5leHBvcnQgY2xhc3MgVGVtcGxhdGVSZXN1bHQge1xuICAgIGNvbnN0cnVjdG9yKHN0cmluZ3MsIHZhbHVlcywgdHlwZSwgcHJvY2Vzc29yKSB7XG4gICAgICAgIHRoaXMuc3RyaW5ncyA9IHN0cmluZ3M7XG4gICAgICAgIHRoaXMudmFsdWVzID0gdmFsdWVzO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLnByb2Nlc3NvciA9IHByb2Nlc3NvcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHN0cmluZyBvZiBIVE1MIHVzZWQgdG8gY3JlYXRlIGEgYDx0ZW1wbGF0ZT5gIGVsZW1lbnQuXG4gICAgICovXG4gICAgZ2V0SFRNTCgpIHtcbiAgICAgICAgY29uc3QgbCA9IHRoaXMuc3RyaW5ncy5sZW5ndGggLSAxO1xuICAgICAgICBsZXQgaHRtbCA9ICcnO1xuICAgICAgICBsZXQgaXNDb21tZW50QmluZGluZyA9IGZhbHNlO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcyA9IHRoaXMuc3RyaW5nc1tpXTtcbiAgICAgICAgICAgIC8vIEZvciBlYWNoIGJpbmRpbmcgd2Ugd2FudCB0byBkZXRlcm1pbmUgdGhlIGtpbmQgb2YgbWFya2VyIHRvIGluc2VydFxuICAgICAgICAgICAgLy8gaW50byB0aGUgdGVtcGxhdGUgc291cmNlIGJlZm9yZSBpdCdzIHBhcnNlZCBieSB0aGUgYnJvd3NlcidzIEhUTUxcbiAgICAgICAgICAgIC8vIHBhcnNlci4gVGhlIG1hcmtlciB0eXBlIGlzIGJhc2VkIG9uIHdoZXRoZXIgdGhlIGV4cHJlc3Npb24gaXMgaW4gYW5cbiAgICAgICAgICAgIC8vIGF0dHJpYnV0ZSwgdGV4dCwgb3IgY29tbWVudCBwb2lzaXRpb24uXG4gICAgICAgICAgICAvLyAgICogRm9yIG5vZGUtcG9zaXRpb24gYmluZGluZ3Mgd2UgaW5zZXJ0IGEgY29tbWVudCB3aXRoIHRoZSBtYXJrZXJcbiAgICAgICAgICAgIC8vICAgICBzZW50aW5lbCBhcyBpdHMgdGV4dCBjb250ZW50LCBsaWtlIDwhLS17e2xpdC1ndWlkfX0tLT4uXG4gICAgICAgICAgICAvLyAgICogRm9yIGF0dHJpYnV0ZSBiaW5kaW5ncyB3ZSBpbnNlcnQganVzdCB0aGUgbWFya2VyIHNlbnRpbmVsIGZvciB0aGVcbiAgICAgICAgICAgIC8vICAgICBmaXJzdCBiaW5kaW5nLCBzbyB0aGF0IHdlIHN1cHBvcnQgdW5xdW90ZWQgYXR0cmlidXRlIGJpbmRpbmdzLlxuICAgICAgICAgICAgLy8gICAgIFN1YnNlcXVlbnQgYmluZGluZ3MgY2FuIHVzZSBhIGNvbW1lbnQgbWFya2VyIGJlY2F1c2UgbXVsdGktYmluZGluZ1xuICAgICAgICAgICAgLy8gICAgIGF0dHJpYnV0ZXMgbXVzdCBiZSBxdW90ZWQuXG4gICAgICAgICAgICAvLyAgICogRm9yIGNvbW1lbnQgYmluZGluZ3Mgd2UgaW5zZXJ0IGp1c3QgdGhlIG1hcmtlciBzZW50aW5lbCBzbyB3ZSBkb24ndFxuICAgICAgICAgICAgLy8gICAgIGNsb3NlIHRoZSBjb21tZW50LlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgY29kZSBzY2FucyB0aGUgdGVtcGxhdGUgc291cmNlLCBidXQgaXMgKm5vdCogYW4gSFRNTFxuICAgICAgICAgICAgLy8gcGFyc2VyLiBXZSBkb24ndCBuZWVkIHRvIHRyYWNrIHRoZSB0cmVlIHN0cnVjdHVyZSBvZiB0aGUgSFRNTCwgb25seVxuICAgICAgICAgICAgLy8gd2hldGhlciBhIGJpbmRpbmcgaXMgaW5zaWRlIGEgY29tbWVudCwgYW5kIGlmIG5vdCwgaWYgaXQgYXBwZWFycyB0byBiZVxuICAgICAgICAgICAgLy8gdGhlIGZpcnN0IGJpbmRpbmcgaW4gYW4gYXR0cmlidXRlLlxuICAgICAgICAgICAgY29uc3QgY29tbWVudE9wZW4gPSBzLmxhc3RJbmRleE9mKCc8IS0tJyk7XG4gICAgICAgICAgICAvLyBXZSdyZSBpbiBjb21tZW50IHBvc2l0aW9uIGlmIHdlIGhhdmUgYSBjb21tZW50IG9wZW4gd2l0aCBubyBmb2xsb3dpbmdcbiAgICAgICAgICAgIC8vIGNvbW1lbnQgY2xvc2UuIEJlY2F1c2UgPC0tIGNhbiBhcHBlYXIgaW4gYW4gYXR0cmlidXRlIHZhbHVlIHRoZXJlIGNhblxuICAgICAgICAgICAgLy8gYmUgZmFsc2UgcG9zaXRpdmVzLlxuICAgICAgICAgICAgaXNDb21tZW50QmluZGluZyA9IChjb21tZW50T3BlbiA+IC0xIHx8IGlzQ29tbWVudEJpbmRpbmcpICYmXG4gICAgICAgICAgICAgICAgcy5pbmRleE9mKCctLT4nLCBjb21tZW50T3BlbiArIDEpID09PSAtMTtcbiAgICAgICAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiB3ZSBoYXZlIGFuIGF0dHJpYnV0ZS1saWtlIHNlcXVlbmNlIHByZWNlZWRpbmcgdGhlXG4gICAgICAgICAgICAvLyBleHByZXNzaW9uLiBUaGlzIGNhbiBtYXRjaCBcIm5hbWU9dmFsdWVcIiBsaWtlIHN0cnVjdHVyZXMgaW4gdGV4dCxcbiAgICAgICAgICAgIC8vIGNvbW1lbnRzLCBhbmQgYXR0cmlidXRlIHZhbHVlcywgc28gdGhlcmUgY2FuIGJlIGZhbHNlLXBvc2l0aXZlcy5cbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZU1hdGNoID0gbGFzdEF0dHJpYnV0ZU5hbWVSZWdleC5leGVjKHMpO1xuICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZU1hdGNoID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UncmUgb25seSBpbiB0aGlzIGJyYW5jaCBpZiB3ZSBkb24ndCBoYXZlIGEgYXR0cmlidXRlLWxpa2VcbiAgICAgICAgICAgICAgICAvLyBwcmVjZWVkaW5nIHNlcXVlbmNlLiBGb3IgY29tbWVudHMsIHRoaXMgZ3VhcmRzIGFnYWluc3QgdW51c3VhbFxuICAgICAgICAgICAgICAgIC8vIGF0dHJpYnV0ZSB2YWx1ZXMgbGlrZSA8ZGl2IGZvbz1cIjwhLS0keydiYXInfVwiPi4gQ2FzZXMgbGlrZVxuICAgICAgICAgICAgICAgIC8vIDwhLS0gZm9vPSR7J2Jhcid9LS0+IGFyZSBoYW5kbGVkIGNvcnJlY3RseSBpbiB0aGUgYXR0cmlidXRlIGJyYW5jaFxuICAgICAgICAgICAgICAgIC8vIGJlbG93LlxuICAgICAgICAgICAgICAgIGh0bWwgKz0gcyArIChpc0NvbW1lbnRCaW5kaW5nID8gY29tbWVudE1hcmtlciA6IG5vZGVNYXJrZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gRm9yIGF0dHJpYnV0ZXMgd2UgdXNlIGp1c3QgYSBtYXJrZXIgc2VudGluZWwsIGFuZCBhbHNvIGFwcGVuZCBhXG4gICAgICAgICAgICAgICAgLy8gJGxpdCQgc3VmZml4IHRvIHRoZSBuYW1lIHRvIG9wdC1vdXQgb2YgYXR0cmlidXRlLXNwZWNpZmljIHBhcnNpbmdcbiAgICAgICAgICAgICAgICAvLyB0aGF0IElFIGFuZCBFZGdlIGRvIGZvciBzdHlsZSBhbmQgY2VydGFpbiBTVkcgYXR0cmlidXRlcy5cbiAgICAgICAgICAgICAgICBodG1sICs9IHMuc3Vic3RyKDAsIGF0dHJpYnV0ZU1hdGNoLmluZGV4KSArIGF0dHJpYnV0ZU1hdGNoWzFdICtcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlTWF0Y2hbMl0gKyBib3VuZEF0dHJpYnV0ZVN1ZmZpeCArIGF0dHJpYnV0ZU1hdGNoWzNdICtcbiAgICAgICAgICAgICAgICAgICAgbWFya2VyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGh0bWwgKz0gdGhpcy5zdHJpbmdzW2xdO1xuICAgICAgICByZXR1cm4gaHRtbDtcbiAgICB9XG4gICAgZ2V0VGVtcGxhdGVFbGVtZW50KCkge1xuICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG4gICAgICAgIHRlbXBsYXRlLmlubmVySFRNTCA9IHRoaXMuZ2V0SFRNTCgpO1xuICAgICAgICByZXR1cm4gdGVtcGxhdGU7XG4gICAgfVxufVxuLyoqXG4gKiBBIFRlbXBsYXRlUmVzdWx0IGZvciBTVkcgZnJhZ21lbnRzLlxuICpcbiAqIFRoaXMgY2xhc3Mgd3JhcHMgSFRNTCBpbiBhbiBgPHN2Zz5gIHRhZyBpbiBvcmRlciB0byBwYXJzZSBpdHMgY29udGVudHMgaW4gdGhlXG4gKiBTVkcgbmFtZXNwYWNlLCB0aGVuIG1vZGlmaWVzIHRoZSB0ZW1wbGF0ZSB0byByZW1vdmUgdGhlIGA8c3ZnPmAgdGFnIHNvIHRoYXRcbiAqIGNsb25lcyBvbmx5IGNvbnRhaW5lciB0aGUgb3JpZ2luYWwgZnJhZ21lbnQuXG4gKi9cbmV4cG9ydCBjbGFzcyBTVkdUZW1wbGF0ZVJlc3VsdCBleHRlbmRzIFRlbXBsYXRlUmVzdWx0IHtcbiAgICBnZXRIVE1MKCkge1xuICAgICAgICByZXR1cm4gYDxzdmc+JHtzdXBlci5nZXRIVE1MKCl9PC9zdmc+YDtcbiAgICB9XG4gICAgZ2V0VGVtcGxhdGVFbGVtZW50KCkge1xuICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IHN1cGVyLmdldFRlbXBsYXRlRWxlbWVudCgpO1xuICAgICAgICBjb25zdCBjb250ZW50ID0gdGVtcGxhdGUuY29udGVudDtcbiAgICAgICAgY29uc3Qgc3ZnRWxlbWVudCA9IGNvbnRlbnQuZmlyc3RDaGlsZDtcbiAgICAgICAgY29udGVudC5yZW1vdmVDaGlsZChzdmdFbGVtZW50KTtcbiAgICAgICAgcmVwYXJlbnROb2Rlcyhjb250ZW50LCBzdmdFbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgICAgICByZXR1cm4gdGVtcGxhdGU7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGVtcGxhdGUtcmVzdWx0LmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbi8qKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICovXG5pbXBvcnQgeyBpc0RpcmVjdGl2ZSB9IGZyb20gJy4vZGlyZWN0aXZlLmpzJztcbmltcG9ydCB7IHJlbW92ZU5vZGVzIH0gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHsgbm9DaGFuZ2UsIG5vdGhpbmcgfSBmcm9tICcuL3BhcnQuanMnO1xuaW1wb3J0IHsgVGVtcGxhdGVJbnN0YW5jZSB9IGZyb20gJy4vdGVtcGxhdGUtaW5zdGFuY2UuanMnO1xuaW1wb3J0IHsgVGVtcGxhdGVSZXN1bHQgfSBmcm9tICcuL3RlbXBsYXRlLXJlc3VsdC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVNYXJrZXIgfSBmcm9tICcuL3RlbXBsYXRlLmpzJztcbmV4cG9ydCBjb25zdCBpc1ByaW1pdGl2ZSA9ICh2YWx1ZSkgPT4ge1xuICAgIHJldHVybiAodmFsdWUgPT09IG51bGwgfHxcbiAgICAgICAgISh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykpO1xufTtcbmV4cG9ydCBjb25zdCBpc0l0ZXJhYmxlID0gKHZhbHVlKSA9PiB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpIHx8XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgICAgICAgISEodmFsdWUgJiYgdmFsdWVbU3ltYm9sLml0ZXJhdG9yXSk7XG59O1xuLyoqXG4gKiBXcml0ZXMgYXR0cmlidXRlIHZhbHVlcyB0byB0aGUgRE9NIGZvciBhIGdyb3VwIG9mIEF0dHJpYnV0ZVBhcnRzIGJvdW5kIHRvIGFcbiAqIHNpbmdsZSBhdHRpYnV0ZS4gVGhlIHZhbHVlIGlzIG9ubHkgc2V0IG9uY2UgZXZlbiBpZiB0aGVyZSBhcmUgbXVsdGlwbGUgcGFydHNcbiAqIGZvciBhbiBhdHRyaWJ1dGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBBdHRyaWJ1dGVDb21taXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIG5hbWUsIHN0cmluZ3MpIHtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuc3RyaW5ncyA9IHN0cmluZ3M7XG4gICAgICAgIHRoaXMucGFydHMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHJpbmdzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5wYXJ0c1tpXSA9IHRoaXMuX2NyZWF0ZVBhcnQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2luZ2xlIHBhcnQuIE92ZXJyaWRlIHRoaXMgdG8gY3JlYXRlIGEgZGlmZmVybnQgdHlwZSBvZiBwYXJ0LlxuICAgICAqL1xuICAgIF9jcmVhdGVQYXJ0KCkge1xuICAgICAgICByZXR1cm4gbmV3IEF0dHJpYnV0ZVBhcnQodGhpcyk7XG4gICAgfVxuICAgIF9nZXRWYWx1ZSgpIHtcbiAgICAgICAgY29uc3Qgc3RyaW5ncyA9IHRoaXMuc3RyaW5ncztcbiAgICAgICAgY29uc3QgbCA9IHN0cmluZ3MubGVuZ3RoIC0gMTtcbiAgICAgICAgbGV0IHRleHQgPSAnJztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIHRleHQgKz0gc3RyaW5nc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHBhcnQgPSB0aGlzLnBhcnRzW2ldO1xuICAgICAgICAgICAgaWYgKHBhcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHYgPSBwYXJ0LnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChpc1ByaW1pdGl2ZSh2KSB8fCAhaXNJdGVyYWJsZSh2KSkge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0ICs9IHR5cGVvZiB2ID09PSAnc3RyaW5nJyA/IHYgOiBTdHJpbmcodik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHQgb2Ygdikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCArPSB0eXBlb2YgdCA9PT0gJ3N0cmluZycgPyB0IDogU3RyaW5nKHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRleHQgKz0gc3RyaW5nc1tsXTtcbiAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfVxuICAgIGNvbW1pdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUodGhpcy5uYW1lLCB0aGlzLl9nZXRWYWx1ZSgpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQSBQYXJ0IHRoYXQgY29udHJvbHMgYWxsIG9yIHBhcnQgb2YgYW4gYXR0cmlidXRlIHZhbHVlLlxuICovXG5leHBvcnQgY2xhc3MgQXR0cmlidXRlUGFydCB7XG4gICAgY29uc3RydWN0b3IoY29tbWl0dGVyKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuY29tbWl0dGVyID0gY29tbWl0dGVyO1xuICAgIH1cbiAgICBzZXRWYWx1ZSh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgIT09IG5vQ2hhbmdlICYmICghaXNQcmltaXRpdmUodmFsdWUpIHx8IHZhbHVlICE9PSB0aGlzLnZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgLy8gSWYgdGhlIHZhbHVlIGlzIGEgbm90IGEgZGlyZWN0aXZlLCBkaXJ0eSB0aGUgY29tbWl0dGVyIHNvIHRoYXQgaXQnbGxcbiAgICAgICAgICAgIC8vIGNhbGwgc2V0QXR0cmlidXRlLiBJZiB0aGUgdmFsdWUgaXMgYSBkaXJlY3RpdmUsIGl0J2xsIGRpcnR5IHRoZVxuICAgICAgICAgICAgLy8gY29tbWl0dGVyIGlmIGl0IGNhbGxzIHNldFZhbHVlKCkuXG4gICAgICAgICAgICBpZiAoIWlzRGlyZWN0aXZlKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0dGVyLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjb21taXQoKSB7XG4gICAgICAgIHdoaWxlIChpc0RpcmVjdGl2ZSh0aGlzLnZhbHVlKSkge1xuICAgICAgICAgICAgY29uc3QgZGlyZWN0aXZlID0gdGhpcy52YWx1ZTtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBub0NoYW5nZTtcbiAgICAgICAgICAgIGRpcmVjdGl2ZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy52YWx1ZSA9PT0gbm9DaGFuZ2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbW1pdHRlci5jb21taXQoKTtcbiAgICB9XG59XG4vKipcbiAqIEEgUGFydCB0aGF0IGNvbnRyb2xzIGEgbG9jYXRpb24gd2l0aGluIGEgTm9kZSB0cmVlLiBMaWtlIGEgUmFuZ2UsIE5vZGVQYXJ0XG4gKiBoYXMgc3RhcnQgYW5kIGVuZCBsb2NhdGlvbnMgYW5kIGNhbiBzZXQgYW5kIHVwZGF0ZSB0aGUgTm9kZXMgYmV0d2VlbiB0aG9zZVxuICogbG9jYXRpb25zLlxuICpcbiAqIE5vZGVQYXJ0cyBzdXBwb3J0IHNldmVyYWwgdmFsdWUgdHlwZXM6IHByaW1pdGl2ZXMsIE5vZGVzLCBUZW1wbGF0ZVJlc3VsdHMsXG4gKiBhcyB3ZWxsIGFzIGFycmF5cyBhbmQgaXRlcmFibGVzIG9mIHRob3NlIHR5cGVzLlxuICovXG5leHBvcnQgY2xhc3MgTm9kZVBhcnQge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwZW5kcyB0aGlzIHBhcnQgaW50byBhIGNvbnRhaW5lci5cbiAgICAgKlxuICAgICAqIFRoaXMgcGFydCBtdXN0IGJlIGVtcHR5LCBhcyBpdHMgY29udGVudHMgYXJlIG5vdCBhdXRvbWF0aWNhbGx5IG1vdmVkLlxuICAgICAqL1xuICAgIGFwcGVuZEludG8oY29udGFpbmVyKSB7XG4gICAgICAgIHRoaXMuc3RhcnROb2RlID0gY29udGFpbmVyLmFwcGVuZENoaWxkKGNyZWF0ZU1hcmtlcigpKTtcbiAgICAgICAgdGhpcy5lbmROb2RlID0gY29udGFpbmVyLmFwcGVuZENoaWxkKGNyZWF0ZU1hcmtlcigpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5zZXJ0cyB0aGlzIHBhcnQgYWZ0ZXIgdGhlIGByZWZgIG5vZGUgKGJldHdlZW4gYHJlZmAgYW5kIGByZWZgJ3MgbmV4dFxuICAgICAqIHNpYmxpbmcpLiBCb3RoIGByZWZgIGFuZCBpdHMgbmV4dCBzaWJsaW5nIG11c3QgYmUgc3RhdGljLCB1bmNoYW5naW5nIG5vZGVzXG4gICAgICogc3VjaCBhcyB0aG9zZSB0aGF0IGFwcGVhciBpbiBhIGxpdGVyYWwgc2VjdGlvbiBvZiBhIHRlbXBsYXRlLlxuICAgICAqXG4gICAgICogVGhpcyBwYXJ0IG11c3QgYmUgZW1wdHksIGFzIGl0cyBjb250ZW50cyBhcmUgbm90IGF1dG9tYXRpY2FsbHkgbW92ZWQuXG4gICAgICovXG4gICAgaW5zZXJ0QWZ0ZXJOb2RlKHJlZikge1xuICAgICAgICB0aGlzLnN0YXJ0Tm9kZSA9IHJlZjtcbiAgICAgICAgdGhpcy5lbmROb2RlID0gcmVmLm5leHRTaWJsaW5nO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBlbmRzIHRoaXMgcGFydCBpbnRvIGEgcGFyZW50IHBhcnQuXG4gICAgICpcbiAgICAgKiBUaGlzIHBhcnQgbXVzdCBiZSBlbXB0eSwgYXMgaXRzIGNvbnRlbnRzIGFyZSBub3QgYXV0b21hdGljYWxseSBtb3ZlZC5cbiAgICAgKi9cbiAgICBhcHBlbmRJbnRvUGFydChwYXJ0KSB7XG4gICAgICAgIHBhcnQuX19pbnNlcnQodGhpcy5zdGFydE5vZGUgPSBjcmVhdGVNYXJrZXIoKSk7XG4gICAgICAgIHBhcnQuX19pbnNlcnQodGhpcy5lbmROb2RlID0gY3JlYXRlTWFya2VyKCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnNlcnRzIHRoaXMgcGFydCBhZnRlciB0aGUgYHJlZmAgcGFydC5cbiAgICAgKlxuICAgICAqIFRoaXMgcGFydCBtdXN0IGJlIGVtcHR5LCBhcyBpdHMgY29udGVudHMgYXJlIG5vdCBhdXRvbWF0aWNhbGx5IG1vdmVkLlxuICAgICAqL1xuICAgIGluc2VydEFmdGVyUGFydChyZWYpIHtcbiAgICAgICAgcmVmLl9faW5zZXJ0KHRoaXMuc3RhcnROb2RlID0gY3JlYXRlTWFya2VyKCkpO1xuICAgICAgICB0aGlzLmVuZE5vZGUgPSByZWYuZW5kTm9kZTtcbiAgICAgICAgcmVmLmVuZE5vZGUgPSB0aGlzLnN0YXJ0Tm9kZTtcbiAgICB9XG4gICAgc2V0VmFsdWUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICBjb21taXQoKSB7XG4gICAgICAgIHdoaWxlIChpc0RpcmVjdGl2ZSh0aGlzLl9fcGVuZGluZ1ZhbHVlKSkge1xuICAgICAgICAgICAgY29uc3QgZGlyZWN0aXZlID0gdGhpcy5fX3BlbmRpbmdWYWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSBub0NoYW5nZTtcbiAgICAgICAgICAgIGRpcmVjdGl2ZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuX19wZW5kaW5nVmFsdWU7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gbm9DaGFuZ2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNQcmltaXRpdmUodmFsdWUpKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHRoaXMudmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9fY29tbWl0VGV4dCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBUZW1wbGF0ZVJlc3VsdCkge1xuICAgICAgICAgICAgdGhpcy5fX2NvbW1pdFRlbXBsYXRlUmVzdWx0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIE5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuX19jb21taXROb2RlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0l0ZXJhYmxlKHZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy5fX2NvbW1pdEl0ZXJhYmxlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZSA9PT0gbm90aGluZykge1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IG5vdGhpbmc7XG4gICAgICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBGYWxsYmFjaywgd2lsbCByZW5kZXIgdGhlIHN0cmluZyByZXByZXNlbnRhdGlvblxuICAgICAgICAgICAgdGhpcy5fX2NvbW1pdFRleHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9faW5zZXJ0KG5vZGUpIHtcbiAgICAgICAgdGhpcy5lbmROb2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5vZGUsIHRoaXMuZW5kTm9kZSk7XG4gICAgfVxuICAgIF9fY29tbWl0Tm9kZSh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy52YWx1ZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX19pbnNlcnQodmFsdWUpO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIF9fY29tbWl0VGV4dCh2YWx1ZSkge1xuICAgICAgICBjb25zdCBub2RlID0gdGhpcy5zdGFydE5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgIHZhbHVlID0gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XG4gICAgICAgIC8vIElmIGB2YWx1ZWAgaXNuJ3QgYWxyZWFkeSBhIHN0cmluZywgd2UgZXhwbGljaXRseSBjb252ZXJ0IGl0IGhlcmUgaW4gY2FzZVxuICAgICAgICAvLyBpdCBjYW4ndCBiZSBpbXBsaWNpdGx5IGNvbnZlcnRlZCAtIGkuZS4gaXQncyBhIHN5bWJvbC5cbiAgICAgICAgY29uc3QgdmFsdWVBc1N0cmluZyA9IHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyB2YWx1ZSA6IFN0cmluZyh2YWx1ZSk7XG4gICAgICAgIGlmIChub2RlID09PSB0aGlzLmVuZE5vZGUucHJldmlvdXNTaWJsaW5nICYmXG4gICAgICAgICAgICBub2RlLm5vZGVUeXBlID09PSAzIC8qIE5vZGUuVEVYVF9OT0RFICovKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBvbmx5IGhhdmUgYSBzaW5nbGUgdGV4dCBub2RlIGJldHdlZW4gdGhlIG1hcmtlcnMsIHdlIGNhbiBqdXN0XG4gICAgICAgICAgICAvLyBzZXQgaXRzIHZhbHVlLCByYXRoZXIgdGhhbiByZXBsYWNpbmcgaXQuXG4gICAgICAgICAgICAvLyBUT0RPKGp1c3RpbmZhZ25hbmkpOiBDYW4gd2UganVzdCBjaGVjayBpZiB0aGlzLnZhbHVlIGlzIHByaW1pdGl2ZT9cbiAgICAgICAgICAgIG5vZGUuZGF0YSA9IHZhbHVlQXNTdHJpbmc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9fY29tbWl0Tm9kZShkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh2YWx1ZUFzU3RyaW5nKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICBfX2NvbW1pdFRlbXBsYXRlUmVzdWx0KHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gdGhpcy5vcHRpb25zLnRlbXBsYXRlRmFjdG9yeSh2YWx1ZSk7XG4gICAgICAgIGlmICh0aGlzLnZhbHVlIGluc3RhbmNlb2YgVGVtcGxhdGVJbnN0YW5jZSAmJlxuICAgICAgICAgICAgdGhpcy52YWx1ZS50ZW1wbGF0ZSA9PT0gdGVtcGxhdGUpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWUudXBkYXRlKHZhbHVlLnZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgd2UgcHJvcGFnYXRlIHRoZSB0ZW1wbGF0ZSBwcm9jZXNzb3IgZnJvbSB0aGUgVGVtcGxhdGVSZXN1bHRcbiAgICAgICAgICAgIC8vIHNvIHRoYXQgd2UgdXNlIGl0cyBzeW50YXggZXh0ZW5zaW9uLCBldGMuIFRoZSB0ZW1wbGF0ZSBmYWN0b3J5IGNvbWVzXG4gICAgICAgICAgICAvLyBmcm9tIHRoZSByZW5kZXIgZnVuY3Rpb24gb3B0aW9ucyBzbyB0aGF0IGl0IGNhbiBjb250cm9sIHRlbXBsYXRlXG4gICAgICAgICAgICAvLyBjYWNoaW5nIGFuZCBwcmVwcm9jZXNzaW5nLlxuICAgICAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBuZXcgVGVtcGxhdGVJbnN0YW5jZSh0ZW1wbGF0ZSwgdmFsdWUucHJvY2Vzc29yLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgZnJhZ21lbnQgPSBpbnN0YW5jZS5fY2xvbmUoKTtcbiAgICAgICAgICAgIGluc3RhbmNlLnVwZGF0ZSh2YWx1ZS52YWx1ZXMpO1xuICAgICAgICAgICAgdGhpcy5fX2NvbW1pdE5vZGUoZnJhZ21lbnQpO1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IGluc3RhbmNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9fY29tbWl0SXRlcmFibGUodmFsdWUpIHtcbiAgICAgICAgLy8gRm9yIGFuIEl0ZXJhYmxlLCB3ZSBjcmVhdGUgYSBuZXcgSW5zdGFuY2VQYXJ0IHBlciBpdGVtLCB0aGVuIHNldCBpdHNcbiAgICAgICAgLy8gdmFsdWUgdG8gdGhlIGl0ZW0uIFRoaXMgaXMgYSBsaXR0bGUgYml0IG9mIG92ZXJoZWFkIGZvciBldmVyeSBpdGVtIGluXG4gICAgICAgIC8vIGFuIEl0ZXJhYmxlLCBidXQgaXQgbGV0cyB1cyByZWN1cnNlIGVhc2lseSBhbmQgZWZmaWNpZW50bHkgdXBkYXRlIEFycmF5c1xuICAgICAgICAvLyBvZiBUZW1wbGF0ZVJlc3VsdHMgdGhhdCB3aWxsIGJlIGNvbW1vbmx5IHJldHVybmVkIGZyb20gZXhwcmVzc2lvbnMgbGlrZTpcbiAgICAgICAgLy8gYXJyYXkubWFwKChpKSA9PiBodG1sYCR7aX1gKSwgYnkgcmV1c2luZyBleGlzdGluZyBUZW1wbGF0ZUluc3RhbmNlcy5cbiAgICAgICAgLy8gSWYgX3ZhbHVlIGlzIGFuIGFycmF5LCB0aGVuIHRoZSBwcmV2aW91cyByZW5kZXIgd2FzIG9mIGFuXG4gICAgICAgIC8vIGl0ZXJhYmxlIGFuZCBfdmFsdWUgd2lsbCBjb250YWluIHRoZSBOb2RlUGFydHMgZnJvbSB0aGUgcHJldmlvdXNcbiAgICAgICAgLy8gcmVuZGVyLiBJZiBfdmFsdWUgaXMgbm90IGFuIGFycmF5LCBjbGVhciB0aGlzIHBhcnQgYW5kIG1ha2UgYSBuZXdcbiAgICAgICAgLy8gYXJyYXkgZm9yIE5vZGVQYXJ0cy5cbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMudmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gW107XG4gICAgICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTGV0cyB1cyBrZWVwIHRyYWNrIG9mIGhvdyBtYW55IGl0ZW1zIHdlIHN0YW1wZWQgc28gd2UgY2FuIGNsZWFyIGxlZnRvdmVyXG4gICAgICAgIC8vIGl0ZW1zIGZyb20gYSBwcmV2aW91cyByZW5kZXJcbiAgICAgICAgY29uc3QgaXRlbVBhcnRzID0gdGhpcy52YWx1ZTtcbiAgICAgICAgbGV0IHBhcnRJbmRleCA9IDA7XG4gICAgICAgIGxldCBpdGVtUGFydDtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHZhbHVlKSB7XG4gICAgICAgICAgICAvLyBUcnkgdG8gcmV1c2UgYW4gZXhpc3RpbmcgcGFydFxuICAgICAgICAgICAgaXRlbVBhcnQgPSBpdGVtUGFydHNbcGFydEluZGV4XTtcbiAgICAgICAgICAgIC8vIElmIG5vIGV4aXN0aW5nIHBhcnQsIGNyZWF0ZSBhIG5ldyBvbmVcbiAgICAgICAgICAgIGlmIChpdGVtUGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaXRlbVBhcnQgPSBuZXcgTm9kZVBhcnQodGhpcy5vcHRpb25zKTtcbiAgICAgICAgICAgICAgICBpdGVtUGFydHMucHVzaChpdGVtUGFydCk7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnRJbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBpdGVtUGFydC5hcHBlbmRJbnRvUGFydCh0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1QYXJ0Lmluc2VydEFmdGVyUGFydChpdGVtUGFydHNbcGFydEluZGV4IC0gMV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGl0ZW1QYXJ0LnNldFZhbHVlKGl0ZW0pO1xuICAgICAgICAgICAgaXRlbVBhcnQuY29tbWl0KCk7XG4gICAgICAgICAgICBwYXJ0SW5kZXgrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFydEluZGV4IDwgaXRlbVBhcnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gVHJ1bmNhdGUgdGhlIHBhcnRzIGFycmF5IHNvIF92YWx1ZSByZWZsZWN0cyB0aGUgY3VycmVudCBzdGF0ZVxuICAgICAgICAgICAgaXRlbVBhcnRzLmxlbmd0aCA9IHBhcnRJbmRleDtcbiAgICAgICAgICAgIHRoaXMuY2xlYXIoaXRlbVBhcnQgJiYgaXRlbVBhcnQuZW5kTm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2xlYXIoc3RhcnROb2RlID0gdGhpcy5zdGFydE5vZGUpIHtcbiAgICAgICAgcmVtb3ZlTm9kZXModGhpcy5zdGFydE5vZGUucGFyZW50Tm9kZSwgc3RhcnROb2RlLm5leHRTaWJsaW5nLCB0aGlzLmVuZE5vZGUpO1xuICAgIH1cbn1cbi8qKlxuICogSW1wbGVtZW50cyBhIGJvb2xlYW4gYXR0cmlidXRlLCByb3VnaGx5IGFzIGRlZmluZWQgaW4gdGhlIEhUTUxcbiAqIHNwZWNpZmljYXRpb24uXG4gKlxuICogSWYgdGhlIHZhbHVlIGlzIHRydXRoeSwgdGhlbiB0aGUgYXR0cmlidXRlIGlzIHByZXNlbnQgd2l0aCBhIHZhbHVlIG9mXG4gKiAnJy4gSWYgdGhlIHZhbHVlIGlzIGZhbHNleSwgdGhlIGF0dHJpYnV0ZSBpcyByZW1vdmVkLlxuICovXG5leHBvcnQgY2xhc3MgQm9vbGVhbkF0dHJpYnV0ZVBhcnQge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIG5hbWUsIHN0cmluZ3MpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHN0cmluZ3MubGVuZ3RoICE9PSAyIHx8IHN0cmluZ3NbMF0gIT09ICcnIHx8IHN0cmluZ3NbMV0gIT09ICcnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Jvb2xlYW4gYXR0cmlidXRlcyBjYW4gb25seSBjb250YWluIGEgc2luZ2xlIGV4cHJlc3Npb24nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnN0cmluZ3MgPSBzdHJpbmdzO1xuICAgIH1cbiAgICBzZXRWYWx1ZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIGNvbW1pdCgpIHtcbiAgICAgICAgd2hpbGUgKGlzRGlyZWN0aXZlKHRoaXMuX19wZW5kaW5nVmFsdWUpKSB7XG4gICAgICAgICAgICBjb25zdCBkaXJlY3RpdmUgPSB0aGlzLl9fcGVuZGluZ1ZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IG5vQ2hhbmdlO1xuICAgICAgICAgICAgZGlyZWN0aXZlKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9fcGVuZGluZ1ZhbHVlID09PSBub0NoYW5nZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZhbHVlID0gISF0aGlzLl9fcGVuZGluZ1ZhbHVlO1xuICAgICAgICBpZiAodGhpcy52YWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUodGhpcy5uYW1lLCAnJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKHRoaXMubmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IG5vQ2hhbmdlO1xuICAgIH1cbn1cbi8qKlxuICogU2V0cyBhdHRyaWJ1dGUgdmFsdWVzIGZvciBQcm9wZXJ0eVBhcnRzLCBzbyB0aGF0IHRoZSB2YWx1ZSBpcyBvbmx5IHNldCBvbmNlXG4gKiBldmVuIGlmIHRoZXJlIGFyZSBtdWx0aXBsZSBwYXJ0cyBmb3IgYSBwcm9wZXJ0eS5cbiAqXG4gKiBJZiBhbiBleHByZXNzaW9uIGNvbnRyb2xzIHRoZSB3aG9sZSBwcm9wZXJ0eSB2YWx1ZSwgdGhlbiB0aGUgdmFsdWUgaXMgc2ltcGx5XG4gKiBhc3NpZ25lZCB0byB0aGUgcHJvcGVydHkgdW5kZXIgY29udHJvbC4gSWYgdGhlcmUgYXJlIHN0cmluZyBsaXRlcmFscyBvclxuICogbXVsdGlwbGUgZXhwcmVzc2lvbnMsIHRoZW4gdGhlIHN0cmluZ3MgYXJlIGV4cHJlc3Npb25zIGFyZSBpbnRlcnBvbGF0ZWQgaW50b1xuICogYSBzdHJpbmcgZmlyc3QuXG4gKi9cbmV4cG9ydCBjbGFzcyBQcm9wZXJ0eUNvbW1pdHRlciBleHRlbmRzIEF0dHJpYnV0ZUNvbW1pdHRlciB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgbmFtZSwgc3RyaW5ncykge1xuICAgICAgICBzdXBlcihlbGVtZW50LCBuYW1lLCBzdHJpbmdzKTtcbiAgICAgICAgdGhpcy5zaW5nbGUgPVxuICAgICAgICAgICAgKHN0cmluZ3MubGVuZ3RoID09PSAyICYmIHN0cmluZ3NbMF0gPT09ICcnICYmIHN0cmluZ3NbMV0gPT09ICcnKTtcbiAgICB9XG4gICAgX2NyZWF0ZVBhcnQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcGVydHlQYXJ0KHRoaXMpO1xuICAgIH1cbiAgICBfZ2V0VmFsdWUoKSB7XG4gICAgICAgIGlmICh0aGlzLnNpbmdsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFydHNbMF0udmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1cGVyLl9nZXRWYWx1ZSgpO1xuICAgIH1cbiAgICBjb21taXQoKSB7XG4gICAgICAgIGlmICh0aGlzLmRpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRbdGhpcy5uYW1lXSA9IHRoaXMuX2dldFZhbHVlKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUHJvcGVydHlQYXJ0IGV4dGVuZHMgQXR0cmlidXRlUGFydCB7XG59XG4vLyBEZXRlY3QgZXZlbnQgbGlzdGVuZXIgb3B0aW9ucyBzdXBwb3J0LiBJZiB0aGUgYGNhcHR1cmVgIHByb3BlcnR5IGlzIHJlYWRcbi8vIGZyb20gdGhlIG9wdGlvbnMgb2JqZWN0LCB0aGVuIG9wdGlvbnMgYXJlIHN1cHBvcnRlZC4gSWYgbm90LCB0aGVuIHRoZSB0aHJpZFxuLy8gYXJndW1lbnQgdG8gYWRkL3JlbW92ZUV2ZW50TGlzdGVuZXIgaXMgaW50ZXJwcmV0ZWQgYXMgdGhlIGJvb2xlYW4gY2FwdHVyZVxuLy8gdmFsdWUgc28gd2Ugc2hvdWxkIG9ubHkgcGFzcyB0aGUgYGNhcHR1cmVgIHByb3BlcnR5LlxubGV0IGV2ZW50T3B0aW9uc1N1cHBvcnRlZCA9IGZhbHNlO1xudHJ5IHtcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICBnZXQgY2FwdHVyZSgpIHtcbiAgICAgICAgICAgIGV2ZW50T3B0aW9uc1N1cHBvcnRlZCA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndGVzdCcsIG9wdGlvbnMsIG9wdGlvbnMpO1xuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndGVzdCcsIG9wdGlvbnMsIG9wdGlvbnMpO1xufVxuY2F0Y2ggKF9lKSB7XG59XG5leHBvcnQgY2xhc3MgRXZlbnRQYXJ0IHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBldmVudE5hbWUsIGV2ZW50Q29udGV4dCkge1xuICAgICAgICB0aGlzLnZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLmV2ZW50TmFtZSA9IGV2ZW50TmFtZTtcbiAgICAgICAgdGhpcy5ldmVudENvbnRleHQgPSBldmVudENvbnRleHQ7XG4gICAgICAgIHRoaXMuX19ib3VuZEhhbmRsZUV2ZW50ID0gKGUpID0+IHRoaXMuaGFuZGxlRXZlbnQoZSk7XG4gICAgfVxuICAgIHNldFZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgY29tbWl0KCkge1xuICAgICAgICB3aGlsZSAoaXNEaXJlY3RpdmUodGhpcy5fX3BlbmRpbmdWYWx1ZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpcmVjdGl2ZSA9IHRoaXMuX19wZW5kaW5nVmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gbm9DaGFuZ2U7XG4gICAgICAgICAgICBkaXJlY3RpdmUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX19wZW5kaW5nVmFsdWUgPT09IG5vQ2hhbmdlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV3TGlzdGVuZXIgPSB0aGlzLl9fcGVuZGluZ1ZhbHVlO1xuICAgICAgICBjb25zdCBvbGRMaXN0ZW5lciA9IHRoaXMudmFsdWU7XG4gICAgICAgIGNvbnN0IHNob3VsZFJlbW92ZUxpc3RlbmVyID0gbmV3TGlzdGVuZXIgPT0gbnVsbCB8fFxuICAgICAgICAgICAgb2xkTGlzdGVuZXIgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgIChuZXdMaXN0ZW5lci5jYXB0dXJlICE9PSBvbGRMaXN0ZW5lci5jYXB0dXJlIHx8XG4gICAgICAgICAgICAgICAgICAgIG5ld0xpc3RlbmVyLm9uY2UgIT09IG9sZExpc3RlbmVyLm9uY2UgfHxcbiAgICAgICAgICAgICAgICAgICAgbmV3TGlzdGVuZXIucGFzc2l2ZSAhPT0gb2xkTGlzdGVuZXIucGFzc2l2ZSk7XG4gICAgICAgIGNvbnN0IHNob3VsZEFkZExpc3RlbmVyID0gbmV3TGlzdGVuZXIgIT0gbnVsbCAmJiAob2xkTGlzdGVuZXIgPT0gbnVsbCB8fCBzaG91bGRSZW1vdmVMaXN0ZW5lcik7XG4gICAgICAgIGlmIChzaG91bGRSZW1vdmVMaXN0ZW5lcikge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5ldmVudE5hbWUsIHRoaXMuX19ib3VuZEhhbmRsZUV2ZW50LCB0aGlzLl9fb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNob3VsZEFkZExpc3RlbmVyKSB7XG4gICAgICAgICAgICB0aGlzLl9fb3B0aW9ucyA9IGdldE9wdGlvbnMobmV3TGlzdGVuZXIpO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodGhpcy5ldmVudE5hbWUsIHRoaXMuX19ib3VuZEhhbmRsZUV2ZW50LCB0aGlzLl9fb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52YWx1ZSA9IG5ld0xpc3RlbmVyO1xuICAgICAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gbm9DaGFuZ2U7XG4gICAgfVxuICAgIGhhbmRsZUV2ZW50KGV2ZW50KSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy52YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy52YWx1ZS5jYWxsKHRoaXMuZXZlbnRDb250ZXh0IHx8IHRoaXMuZWxlbWVudCwgZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy52YWx1ZS5oYW5kbGVFdmVudChldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyBXZSBjb3B5IG9wdGlvbnMgYmVjYXVzZSBvZiB0aGUgaW5jb25zaXN0ZW50IGJlaGF2aW9yIG9mIGJyb3dzZXJzIHdoZW4gcmVhZGluZ1xuLy8gdGhlIHRoaXJkIGFyZ3VtZW50IG9mIGFkZC9yZW1vdmVFdmVudExpc3RlbmVyLiBJRTExIGRvZXNuJ3Qgc3VwcG9ydCBvcHRpb25zXG4vLyBhdCBhbGwuIENocm9tZSA0MSBvbmx5IHJlYWRzIGBjYXB0dXJlYCBpZiB0aGUgYXJndW1lbnQgaXMgYW4gb2JqZWN0LlxuY29uc3QgZ2V0T3B0aW9ucyA9IChvKSA9PiBvICYmXG4gICAgKGV2ZW50T3B0aW9uc1N1cHBvcnRlZCA/XG4gICAgICAgIHsgY2FwdHVyZTogby5jYXB0dXJlLCBwYXNzaXZlOiBvLnBhc3NpdmUsIG9uY2U6IG8ub25jZSB9IDpcbiAgICAgICAgby5jYXB0dXJlKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnRzLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbmltcG9ydCB7IEF0dHJpYnV0ZUNvbW1pdHRlciwgQm9vbGVhbkF0dHJpYnV0ZVBhcnQsIEV2ZW50UGFydCwgTm9kZVBhcnQsIFByb3BlcnR5Q29tbWl0dGVyIH0gZnJvbSAnLi9wYXJ0cy5qcyc7XG4vKipcbiAqIENyZWF0ZXMgUGFydHMgd2hlbiBhIHRlbXBsYXRlIGlzIGluc3RhbnRpYXRlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIERlZmF1bHRUZW1wbGF0ZVByb2Nlc3NvciB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHBhcnRzIGZvciBhbiBhdHRyaWJ1dGUtcG9zaXRpb24gYmluZGluZywgZ2l2ZW4gdGhlIGV2ZW50LCBhdHRyaWJ1dGVcbiAgICAgKiBuYW1lLCBhbmQgc3RyaW5nIGxpdGVyYWxzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGVsZW1lbnQgVGhlIGVsZW1lbnQgY29udGFpbmluZyB0aGUgYmluZGluZ1xuICAgICAqIEBwYXJhbSBuYW1lICBUaGUgYXR0cmlidXRlIG5hbWVcbiAgICAgKiBAcGFyYW0gc3RyaW5ncyBUaGUgc3RyaW5nIGxpdGVyYWxzLiBUaGVyZSBhcmUgYWx3YXlzIGF0IGxlYXN0IHR3byBzdHJpbmdzLFxuICAgICAqICAgZXZlbnQgZm9yIGZ1bGx5LWNvbnRyb2xsZWQgYmluZGluZ3Mgd2l0aCBhIHNpbmdsZSBleHByZXNzaW9uLlxuICAgICAqL1xuICAgIGhhbmRsZUF0dHJpYnV0ZUV4cHJlc3Npb25zKGVsZW1lbnQsIG5hbWUsIHN0cmluZ3MsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcHJlZml4ID0gbmFtZVswXTtcbiAgICAgICAgaWYgKHByZWZpeCA9PT0gJy4nKSB7XG4gICAgICAgICAgICBjb25zdCBjb21taXR0ZXIgPSBuZXcgUHJvcGVydHlDb21taXR0ZXIoZWxlbWVudCwgbmFtZS5zbGljZSgxKSwgc3RyaW5ncyk7XG4gICAgICAgICAgICByZXR1cm4gY29tbWl0dGVyLnBhcnRzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcmVmaXggPT09ICdAJykge1xuICAgICAgICAgICAgcmV0dXJuIFtuZXcgRXZlbnRQYXJ0KGVsZW1lbnQsIG5hbWUuc2xpY2UoMSksIG9wdGlvbnMuZXZlbnRDb250ZXh0KV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByZWZpeCA9PT0gJz8nKSB7XG4gICAgICAgICAgICByZXR1cm4gW25ldyBCb29sZWFuQXR0cmlidXRlUGFydChlbGVtZW50LCBuYW1lLnNsaWNlKDEpLCBzdHJpbmdzKV07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29tbWl0dGVyID0gbmV3IEF0dHJpYnV0ZUNvbW1pdHRlcihlbGVtZW50LCBuYW1lLCBzdHJpbmdzKTtcbiAgICAgICAgcmV0dXJuIGNvbW1pdHRlci5wYXJ0cztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHBhcnRzIGZvciBhIHRleHQtcG9zaXRpb24gYmluZGluZy5cbiAgICAgKiBAcGFyYW0gdGVtcGxhdGVGYWN0b3J5XG4gICAgICovXG4gICAgaGFuZGxlVGV4dEV4cHJlc3Npb24ob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gbmV3IE5vZGVQYXJ0KG9wdGlvbnMpO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBkZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3IgPSBuZXcgRGVmYXVsdFRlbXBsYXRlUHJvY2Vzc29yKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWZhdWx0LXRlbXBsYXRlLXByb2Nlc3Nvci5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5pbXBvcnQgeyBtYXJrZXIsIFRlbXBsYXRlIH0gZnJvbSAnLi90ZW1wbGF0ZS5qcyc7XG4vKipcbiAqIFRoZSBkZWZhdWx0IFRlbXBsYXRlRmFjdG9yeSB3aGljaCBjYWNoZXMgVGVtcGxhdGVzIGtleWVkIG9uXG4gKiByZXN1bHQudHlwZSBhbmQgcmVzdWx0LnN0cmluZ3MuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0ZW1wbGF0ZUZhY3RvcnkocmVzdWx0KSB7XG4gICAgbGV0IHRlbXBsYXRlQ2FjaGUgPSB0ZW1wbGF0ZUNhY2hlcy5nZXQocmVzdWx0LnR5cGUpO1xuICAgIGlmICh0ZW1wbGF0ZUNhY2hlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGVtcGxhdGVDYWNoZSA9IHtcbiAgICAgICAgICAgIHN0cmluZ3NBcnJheTogbmV3IFdlYWtNYXAoKSxcbiAgICAgICAgICAgIGtleVN0cmluZzogbmV3IE1hcCgpXG4gICAgICAgIH07XG4gICAgICAgIHRlbXBsYXRlQ2FjaGVzLnNldChyZXN1bHQudHlwZSwgdGVtcGxhdGVDYWNoZSk7XG4gICAgfVxuICAgIGxldCB0ZW1wbGF0ZSA9IHRlbXBsYXRlQ2FjaGUuc3RyaW5nc0FycmF5LmdldChyZXN1bHQuc3RyaW5ncyk7XG4gICAgaWYgKHRlbXBsYXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlO1xuICAgIH1cbiAgICAvLyBJZiB0aGUgVGVtcGxhdGVTdHJpbmdzQXJyYXkgaXMgbmV3LCBnZW5lcmF0ZSBhIGtleSBmcm9tIHRoZSBzdHJpbmdzXG4gICAgLy8gVGhpcyBrZXkgaXMgc2hhcmVkIGJldHdlZW4gYWxsIHRlbXBsYXRlcyB3aXRoIGlkZW50aWNhbCBjb250ZW50XG4gICAgY29uc3Qga2V5ID0gcmVzdWx0LnN0cmluZ3Muam9pbihtYXJrZXIpO1xuICAgIC8vIENoZWNrIGlmIHdlIGFscmVhZHkgaGF2ZSBhIFRlbXBsYXRlIGZvciB0aGlzIGtleVxuICAgIHRlbXBsYXRlID0gdGVtcGxhdGVDYWNoZS5rZXlTdHJpbmcuZ2V0KGtleSk7XG4gICAgaWYgKHRlbXBsYXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBub3Qgc2VlbiB0aGlzIGtleSBiZWZvcmUsIGNyZWF0ZSBhIG5ldyBUZW1wbGF0ZVxuICAgICAgICB0ZW1wbGF0ZSA9IG5ldyBUZW1wbGF0ZShyZXN1bHQsIHJlc3VsdC5nZXRUZW1wbGF0ZUVsZW1lbnQoKSk7XG4gICAgICAgIC8vIENhY2hlIHRoZSBUZW1wbGF0ZSBmb3IgdGhpcyBrZXlcbiAgICAgICAgdGVtcGxhdGVDYWNoZS5rZXlTdHJpbmcuc2V0KGtleSwgdGVtcGxhdGUpO1xuICAgIH1cbiAgICAvLyBDYWNoZSBhbGwgZnV0dXJlIHF1ZXJpZXMgZm9yIHRoaXMgVGVtcGxhdGVTdHJpbmdzQXJyYXlcbiAgICB0ZW1wbGF0ZUNhY2hlLnN0cmluZ3NBcnJheS5zZXQocmVzdWx0LnN0cmluZ3MsIHRlbXBsYXRlKTtcbiAgICByZXR1cm4gdGVtcGxhdGU7XG59XG5leHBvcnQgY29uc3QgdGVtcGxhdGVDYWNoZXMgPSBuZXcgTWFwKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZW1wbGF0ZS1mYWN0b3J5LmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbi8qKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICovXG5pbXBvcnQgeyByZW1vdmVOb2RlcyB9IGZyb20gJy4vZG9tLmpzJztcbmltcG9ydCB7IE5vZGVQYXJ0IH0gZnJvbSAnLi9wYXJ0cy5qcyc7XG5pbXBvcnQgeyB0ZW1wbGF0ZUZhY3RvcnkgfSBmcm9tICcuL3RlbXBsYXRlLWZhY3RvcnkuanMnO1xuZXhwb3J0IGNvbnN0IHBhcnRzID0gbmV3IFdlYWtNYXAoKTtcbi8qKlxuICogUmVuZGVycyBhIHRlbXBsYXRlIHJlc3VsdCBvciBvdGhlciB2YWx1ZSB0byBhIGNvbnRhaW5lci5cbiAqXG4gKiBUbyB1cGRhdGUgYSBjb250YWluZXIgd2l0aCBuZXcgdmFsdWVzLCByZWV2YWx1YXRlIHRoZSB0ZW1wbGF0ZSBsaXRlcmFsIGFuZFxuICogY2FsbCBgcmVuZGVyYCB3aXRoIHRoZSBuZXcgcmVzdWx0LlxuICpcbiAqIEBwYXJhbSByZXN1bHQgQW55IHZhbHVlIHJlbmRlcmFibGUgYnkgTm9kZVBhcnQgLSB0eXBpY2FsbHkgYSBUZW1wbGF0ZVJlc3VsdFxuICogICAgIGNyZWF0ZWQgYnkgZXZhbHVhdGluZyBhIHRlbXBsYXRlIHRhZyBsaWtlIGBodG1sYCBvciBgc3ZnYC5cbiAqIEBwYXJhbSBjb250YWluZXIgQSBET00gcGFyZW50IHRvIHJlbmRlciB0by4gVGhlIGVudGlyZSBjb250ZW50cyBhcmUgZWl0aGVyXG4gKiAgICAgcmVwbGFjZWQsIG9yIGVmZmljaWVudGx5IHVwZGF0ZWQgaWYgdGhlIHNhbWUgcmVzdWx0IHR5cGUgd2FzIHByZXZpb3VzXG4gKiAgICAgcmVuZGVyZWQgdGhlcmUuXG4gKiBAcGFyYW0gb3B0aW9ucyBSZW5kZXJPcHRpb25zIGZvciB0aGUgZW50aXJlIHJlbmRlciB0cmVlIHJlbmRlcmVkIHRvIHRoaXNcbiAqICAgICBjb250YWluZXIuIFJlbmRlciBvcHRpb25zIG11c3QgKm5vdCogY2hhbmdlIGJldHdlZW4gcmVuZGVycyB0byB0aGUgc2FtZVxuICogICAgIGNvbnRhaW5lciwgYXMgdGhvc2UgY2hhbmdlcyB3aWxsIG5vdCBlZmZlY3QgcHJldmlvdXNseSByZW5kZXJlZCBET00uXG4gKi9cbmV4cG9ydCBjb25zdCByZW5kZXIgPSAocmVzdWx0LCBjb250YWluZXIsIG9wdGlvbnMpID0+IHtcbiAgICBsZXQgcGFydCA9IHBhcnRzLmdldChjb250YWluZXIpO1xuICAgIGlmIChwYXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmVtb3ZlTm9kZXMoY29udGFpbmVyLCBjb250YWluZXIuZmlyc3RDaGlsZCk7XG4gICAgICAgIHBhcnRzLnNldChjb250YWluZXIsIHBhcnQgPSBuZXcgTm9kZVBhcnQoT2JqZWN0LmFzc2lnbih7IHRlbXBsYXRlRmFjdG9yeSB9LCBvcHRpb25zKSkpO1xuICAgICAgICBwYXJ0LmFwcGVuZEludG8oY29udGFpbmVyKTtcbiAgICB9XG4gICAgcGFydC5zZXRWYWx1ZShyZXN1bHQpO1xuICAgIHBhcnQuY29tbWl0KCk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVuZGVyLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbi8qKlxuICpcbiAqIE1haW4gbGl0LWh0bWwgbW9kdWxlLlxuICpcbiAqIE1haW4gZXhwb3J0czpcbiAqXG4gKiAtICBbW2h0bWxdXVxuICogLSAgW1tzdmddXVxuICogLSAgW1tyZW5kZXJdXVxuICpcbiAqIEBtb2R1bGUgbGl0LWh0bWxcbiAqIEBwcmVmZXJyZWRcbiAqL1xuLyoqXG4gKiBEbyBub3QgcmVtb3ZlIHRoaXMgY29tbWVudDsgaXQga2VlcHMgdHlwZWRvYyBmcm9tIG1pc3BsYWNpbmcgdGhlIG1vZHVsZVxuICogZG9jcy5cbiAqL1xuaW1wb3J0IHsgZGVmYXVsdFRlbXBsYXRlUHJvY2Vzc29yIH0gZnJvbSAnLi9saWIvZGVmYXVsdC10ZW1wbGF0ZS1wcm9jZXNzb3IuanMnO1xuaW1wb3J0IHsgU1ZHVGVtcGxhdGVSZXN1bHQsIFRlbXBsYXRlUmVzdWx0IH0gZnJvbSAnLi9saWIvdGVtcGxhdGUtcmVzdWx0LmpzJztcbmV4cG9ydCB7IERlZmF1bHRUZW1wbGF0ZVByb2Nlc3NvciwgZGVmYXVsdFRlbXBsYXRlUHJvY2Vzc29yIH0gZnJvbSAnLi9saWIvZGVmYXVsdC10ZW1wbGF0ZS1wcm9jZXNzb3IuanMnO1xuZXhwb3J0IHsgZGlyZWN0aXZlLCBpc0RpcmVjdGl2ZSB9IGZyb20gJy4vbGliL2RpcmVjdGl2ZS5qcyc7XG4vLyBUT0RPKGp1c3RpbmZhZ25hbmkpOiByZW1vdmUgbGluZSB3aGVuIHdlIGdldCBOb2RlUGFydCBtb3ZpbmcgbWV0aG9kc1xuZXhwb3J0IHsgcmVtb3ZlTm9kZXMsIHJlcGFyZW50Tm9kZXMgfSBmcm9tICcuL2xpYi9kb20uanMnO1xuZXhwb3J0IHsgbm9DaGFuZ2UsIG5vdGhpbmcgfSBmcm9tICcuL2xpYi9wYXJ0LmpzJztcbmV4cG9ydCB7IEF0dHJpYnV0ZUNvbW1pdHRlciwgQXR0cmlidXRlUGFydCwgQm9vbGVhbkF0dHJpYnV0ZVBhcnQsIEV2ZW50UGFydCwgaXNJdGVyYWJsZSwgaXNQcmltaXRpdmUsIE5vZGVQYXJ0LCBQcm9wZXJ0eUNvbW1pdHRlciwgUHJvcGVydHlQYXJ0IH0gZnJvbSAnLi9saWIvcGFydHMuanMnO1xuZXhwb3J0IHsgcGFydHMsIHJlbmRlciB9IGZyb20gJy4vbGliL3JlbmRlci5qcyc7XG5leHBvcnQgeyB0ZW1wbGF0ZUNhY2hlcywgdGVtcGxhdGVGYWN0b3J5IH0gZnJvbSAnLi9saWIvdGVtcGxhdGUtZmFjdG9yeS5qcyc7XG5leHBvcnQgeyBUZW1wbGF0ZUluc3RhbmNlIH0gZnJvbSAnLi9saWIvdGVtcGxhdGUtaW5zdGFuY2UuanMnO1xuZXhwb3J0IHsgU1ZHVGVtcGxhdGVSZXN1bHQsIFRlbXBsYXRlUmVzdWx0IH0gZnJvbSAnLi9saWIvdGVtcGxhdGUtcmVzdWx0LmpzJztcbmV4cG9ydCB7IGNyZWF0ZU1hcmtlciwgaXNUZW1wbGF0ZVBhcnRBY3RpdmUsIFRlbXBsYXRlIH0gZnJvbSAnLi9saWIvdGVtcGxhdGUuanMnO1xuLy8gSU1QT1JUQU5UOiBkbyBub3QgY2hhbmdlIHRoZSBwcm9wZXJ0eSBuYW1lIG9yIHRoZSBhc3NpZ25tZW50IGV4cHJlc3Npb24uXG4vLyBUaGlzIGxpbmUgd2lsbCBiZSB1c2VkIGluIHJlZ2V4ZXMgdG8gc2VhcmNoIGZvciBsaXQtaHRtbCB1c2FnZS5cbi8vIFRPRE8oanVzdGluZmFnbmFuaSk6IGluamVjdCB2ZXJzaW9uIG51bWJlciBhdCBidWlsZCB0aW1lXG4od2luZG93WydsaXRIdG1sVmVyc2lvbnMnXSB8fCAod2luZG93WydsaXRIdG1sVmVyc2lvbnMnXSA9IFtdKSkucHVzaCgnMS4xLjInKTtcbi8qKlxuICogSW50ZXJwcmV0cyBhIHRlbXBsYXRlIGxpdGVyYWwgYXMgYW4gSFRNTCB0ZW1wbGF0ZSB0aGF0IGNhbiBlZmZpY2llbnRseVxuICogcmVuZGVyIHRvIGFuZCB1cGRhdGUgYSBjb250YWluZXIuXG4gKi9cbmV4cG9ydCBjb25zdCBodG1sID0gKHN0cmluZ3MsIC4uLnZhbHVlcykgPT4gbmV3IFRlbXBsYXRlUmVzdWx0KHN0cmluZ3MsIHZhbHVlcywgJ2h0bWwnLCBkZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3IpO1xuLyoqXG4gKiBJbnRlcnByZXRzIGEgdGVtcGxhdGUgbGl0ZXJhbCBhcyBhbiBTVkcgdGVtcGxhdGUgdGhhdCBjYW4gZWZmaWNpZW50bHlcbiAqIHJlbmRlciB0byBhbmQgdXBkYXRlIGEgY29udGFpbmVyLlxuICovXG5leHBvcnQgY29uc3Qgc3ZnID0gKHN0cmluZ3MsIC4uLnZhbHVlcykgPT4gbmV3IFNWR1RlbXBsYXRlUmVzdWx0KHN0cmluZ3MsIHZhbHVlcywgJ3N2ZycsIGRlZmF1bHRUZW1wbGF0ZVByb2Nlc3Nvcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1saXQtaHRtbC5qcy5tYXAiLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTggVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuLyoqXG4gIEJhc2ljIHJvdXRlciB0aGF0IGNhbGxzIGEgY2FsbGJhY2sgd2hlbmV2ZXIgdGhlIGxvY2F0aW9uIGlzIHVwZGF0ZWQuXG5cbiAgRXhhbXBsZTpcblxuICAgICAgaW1wb3J0IHsgaW5zdGFsbFJvdXRlciB9IGZyb20gJ3B3YS1oZWxwZXJzL3JvdXRlci5qcyc7XG5cbiAgICAgIGluc3RhbGxSb3V0ZXIoKGxvY2F0aW9uKSA9PiBoYW5kbGVOYXZpZ2F0aW9uKGxvY2F0aW9uKSk7XG5cbiAgRm9yIGV4YW1wbGUsIGlmIHlvdSdyZSB1c2luZyB0aGlzIHJvdXRlciBpbiBhIFJlZHV4LWNvbm5lY3RlZCBjb21wb25lbnQsXG4gIHlvdSBjb3VsZCBkaXNwYXRjaCBhbiBhY3Rpb24gaW4gdGhlIGNhbGxiYWNrOlxuXG4gICAgICBpbXBvcnQgeyBpbnN0YWxsUm91dGVyIH0gZnJvbSAncHdhLWhlbHBlcnMvcm91dGVyLmpzJztcbiAgICAgIGltcG9ydCB7IG5hdmlnYXRlIH0gZnJvbSAnLi4vYWN0aW9ucy9hcHAuanMnO1xuXG4gICAgICBpbnN0YWxsUm91dGVyKChsb2NhdGlvbikgPT4gc3RvcmUuZGlzcGF0Y2gobmF2aWdhdGUobG9jYXRpb24pKSlcblxuICBJZiB5b3UgbmVlZCB0byBmb3JjZSBhIG5hdmlnYXRpb24gdG8gYSBuZXcgbG9jYXRpb24gcHJvZ3JhbW1hdGljYWxseSwgeW91IGNhblxuICBkbyBzbyBieSBwdXNoaW5nIGEgbmV3IHN0YXRlIHVzaW5nIHRoZSBIaXN0b3J5IEFQSSwgYW5kIHRoZW4gbWFudWFsbHlcbiAgY2FsbGluZyB0aGUgY2FsbGJhY2sgd2l0aCB0aGUgbmV3IGxvY2F0aW9uOlxuXG4gICAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoe30sICcnLCAnL25ldy1yb3V0ZScpO1xuICAgICAgaGFuZGxlTmF2aWdhdGlvbih3aW5kb3cubG9jYXRpb24pO1xuXG4gIE9wdGlvbmFsbHksIHlvdSBjYW4gdXNlIHRoZSBzZWNvbmQgYXJndW1lbnQgdG8gcmVhZCB0aGUgZXZlbnQgdGhhdCBjYXVzZWQgdGhlXG4gIG5hdmlnYXRpb24uIEZvciBleGFtcGxlLCB5b3UgbWF5IHdhbnQgdG8gc2Nyb2xsIHRvIHRvcCBvbmx5IGFmdGVyIGEgbGluayBjbGljay5cblxuICAgICAgaW5zdGFsbFJvdXRlcigobG9jYXRpb24sIGV2ZW50KSA9PiB7XG4gICAgICAgIC8vIE9ubHkgc2Nyb2xsIHRvIHRvcCBvbiBsaW5rIGNsaWNrcywgbm90IHBvcHN0YXRlIGV2ZW50cy5cbiAgICAgICAgaWYgKGV2ZW50ICYmIGV2ZW50LnR5cGUgPT09ICdjbGljaycpIHtcbiAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgaGFuZGxlTmF2aWdhdGlvbihsb2NhdGlvbik7XG4gICAgICB9KTtcbiovXG5leHBvcnQgY29uc3QgaW5zdGFsbFJvdXRlciA9IChsb2NhdGlvblVwZGF0ZWRDYWxsYmFjaykgPT4ge1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICAgICAgaWYgKGUuZGVmYXVsdFByZXZlbnRlZCB8fCBlLmJ1dHRvbiAhPT0gMCB8fFxuICAgICAgICAgICAgZS5tZXRhS2V5IHx8IGUuY3RybEtleSB8fCBlLnNoaWZ0S2V5KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBhbmNob3IgPSBlLmNvbXBvc2VkUGF0aCgpLmZpbHRlcihuID0+IG4udGFnTmFtZSA9PT0gJ0EnKVswXTtcbiAgICAgICAgaWYgKCFhbmNob3IgfHwgYW5jaG9yLnRhcmdldCB8fFxuICAgICAgICAgICAgYW5jaG9yLmhhc0F0dHJpYnV0ZSgnZG93bmxvYWQnKSB8fFxuICAgICAgICAgICAgYW5jaG9yLmdldEF0dHJpYnV0ZSgncmVsJykgPT09ICdleHRlcm5hbCcpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGhyZWYgPSBhbmNob3IuaHJlZjtcbiAgICAgICAgaWYgKCFocmVmIHx8IGhyZWYuaW5kZXhPZignbWFpbHRvOicpICE9PSAtMSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgbG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb247XG4gICAgICAgIGNvbnN0IG9yaWdpbiA9IGxvY2F0aW9uLm9yaWdpbiB8fCBsb2NhdGlvbi5wcm90b2NvbCArICcvLycgKyBsb2NhdGlvbi5ob3N0O1xuICAgICAgICBpZiAoaHJlZi5pbmRleE9mKG9yaWdpbikgIT09IDApXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKGhyZWYgIT09IGxvY2F0aW9uLmhyZWYpIHtcbiAgICAgICAgICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSh7fSwgJycsIGhyZWYpO1xuICAgICAgICAgICAgbG9jYXRpb25VcGRhdGVkQ2FsbGJhY2sobG9jYXRpb24sIGUpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgZSA9PiBsb2NhdGlvblVwZGF0ZWRDYWxsYmFjayh3aW5kb3cubG9jYXRpb24sIGUpKTtcbiAgICBsb2NhdGlvblVwZGF0ZWRDYWxsYmFjayh3aW5kb3cubG9jYXRpb24sIG51bGwgLyogZXZlbnQgKi8pO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJvdXRlci5qcy5tYXAiLCJpbXBvcnQgeyBodG1sLCByZW5kZXIgfSBmcm9tICdsaXQtaHRtbCc7XG5cbmNsYXNzIEhvbWVWaWV3IGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX3NoYWRvd1Jvb3QgPSB0aGlzLmF0dGFjaFNoYWRvdyh7bW9kZTogJ29wZW4nfSk7XG4gIH1cblxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICByZW5kZXIodGhpcy50ZW1wbGF0ZSgpLCB0aGlzLl9zaGFkb3dSb290LCB7ZXZlbnRDb250ZXh0OiB0aGlzfSk7XG4gIH1cblxuICB0ZW1wbGF0ZSgpIHtcbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxzZWN0aW9uPlxuICAgICAgICA8aDI+U29tZSBsYW5kaW5nIHBhZ2UgY29udGVudCBnb2VzIGhlcmU8L2gyPlxuICAgICAgICA8cD5cbiAgICAgICAgICBRdWlzcXVlIHBvcnRhIG1ldHVzIGluIHRvcnRvciB2dWxwdXRhdGUgdGVtcHVzLiBNYWVjZW5hcyBmaW5pYnVzLCBudWxsYSB2aXRhZSBmZXVnaWF0IHBvcnRhLCBlbmltIGZlbGlzIG1hbGVzdWFkYSB0ZWxsdXMsIGV0IGVmZmljaXR1ciBzYXBpZW4gbGVjdHVzIHNlZCBtZXR1cy4gVml2YW11cyBub24gZmF1Y2lidXMgZWxpdC4gTW9yYmkgZmluaWJ1cyB0dXJwaXMgZXUgdGluY2lkdW50IHZ1bHB1dGF0ZS4gQ3JhcyBwaGFyZXRyYSByaXN1cyBkaWFtLCBzaXQgYW1ldCB2ZWhpY3VsYSBhdWd1ZSBlbGVpZmVuZCB1dC4gU2VkIG5vbiB2ZW5lbmF0aXMgbGliZXJvLiBDdXJhYml0dXIgYXVjdG9yIGFyY3Ugc2FnaXR0aXMgbGliZXJvIGdyYXZpZGEsIG5lYyBzb2RhbGVzIHRvcnRvciB2dWxwdXRhdGUuIFZpdmFtdXMgcmlzdXMgbWksIHNjZWxlcmlzcXVlIHNpdCBhbWV0IHBoYXJldHJhIGFjLCBmcmluZ2lsbGEgYSBvZGlvLiBTdXNwZW5kaXNzZSBhbGlxdWV0IHVsdHJpY2VzIGx1Y3R1cy4gUGhhc2VsbHVzIGZyaW5naWxsYSwgZXN0IGluIHBlbGxlbnRlc3F1ZSB2ZW5lbmF0aXMsIGR1aSBtYXVyaXMgdGVtcG9yIGxpZ3VsYSwgaW4gbWF4aW11cyB2ZWxpdCBlbmltIHZpdGFlIG51bGxhLlxuXG5TdXNwZW5kaXNzZSBjb25ndWUgc29kYWxlcyBlc3QuIFN1c3BlbmRpc3NlIG5pc2wgZXgsIGNvbnNlY3RldHVyIHZlbCBjdXJzdXMgc2VkLCBjdXJzdXMgc2l0IGFtZXQgc2FwaWVuLiBDcmFzIGNvbnNlcXVhdCBtYXNzYSB2ZW5lbmF0aXMgbnVuYyB2b2x1dHBhdCBsb2JvcnRpcy4gRG9uZWMgb3JuYXJlIGJsYW5kaXQgZGlhbSBlZ2V0IGVmZmljaXR1ci4gQ3JhcyB2YXJpdXMgYWxpcXVldCBsZW8sIG5lYyBmaW5pYnVzIG9kaW8gdGluY2lkdW50IG5vbi4gUGVsbGVudGVzcXVlIG1hdXJpcyBtYXNzYSwgYWNjdW1zYW4gcXVpcyB0b3J0b3Igdml0YWUsIGNvbnNlY3RldHVyIHNvbGxpY2l0dWRpbiBtYXNzYS4gRnVzY2UgZWdldCB2ZXN0aWJ1bHVtIGxhY3VzLCBuZWMgbW9sbGlzIG9yY2kuIFZlc3RpYnVsdW0gbWF1cmlzIHZlbGl0LCBsdWN0dXMgdmVsIGxvcmVtIGx1Y3R1cywgbHVjdHVzIHBvcnR0aXRvciBkb2xvci4gQWVuZWFuIGlhY3VsaXMgZXggZXUgb3JuYXJlIG1hbGVzdWFkYS4gRG9uZWMgcGVsbGVudGVzcXVlIGxvcmVtIHNpdCBhbWV0IG5pc2kgY29uZ3VlLCBzaXQgYW1ldCBmcmluZ2lsbGEgdXJuYSBldWlzbW9kLiBWaXZhbXVzIGNvbnNlY3RldHVyIG1hdXJpcyBldSBsaWd1bGEgYmxhbmRpdCB0cmlzdGlxdWUuIE51bGxhbSBhcmN1IG1pLCBhY2N1bXNhbiBzaXQgYW1ldCBpcHN1bSBuZWMsIHNjZWxlcmlzcXVlIG1hbGVzdWFkYSBuaXNsLlxuICAgICAgICA8L3A+XG4gICAgICA8L3NlY3Rpb24+XG4gICAgICBgO1xuICB9XG59XG5cbmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnaG9tZS12aWV3JywgSG9tZVZpZXcpO1xuIiwiaW1wb3J0IHsgaHRtbCwgcmVuZGVyIH0gZnJvbSAnbGl0LWh0bWwnO1xuXG5jbGFzcyBDb3ZlcmFnZXNWaWV3IGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX3NoYWRvd1Jvb3QgPSB0aGlzLmF0dGFjaFNoYWRvdyh7bW9kZTogJ29wZW4nfSk7XG4gIH1cblxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICByZW5kZXIodGhpcy50ZW1wbGF0ZSgpLCB0aGlzLl9zaGFkb3dSb290LCB7ZXZlbnRDb250ZXh0OiB0aGlzfSk7XG4gIH1cblxuICB0ZW1wbGF0ZSgpIHtcbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxzZWN0aW9uPlxuICAgICAgICA8aDI+SW1wbGVtZW50IENvdmVyYWdlcyBjb250ZW50IGhlcmU8L2gyPlxuICAgICAgICA8cD5cbiAgICAgICAgICBMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzY2luZyBlbGl0LiBTZWQgbnVuYyB0ZWxsdXMsIGZyaW5naWxsYSBpZCB2ZXN0aWJ1bHVtIHZlbCwgaW50ZXJkdW0gZXQgZW5pbS4gTnVsbGEgdmVoaWN1bGEgYXJjdSBpbiBlcm9zIGZhdWNpYnVzLCBxdWlzIHVsdHJpY2VzIHRlbGx1cyBzZW1wZXIuIE51bGxhIHV0IGFudGUgbGliZXJvLiBDcmFzIHV0IHRvcnRvciBpbiBlbmltIGVsZWlmZW5kIHBoYXJldHJhLiBEdWlzIHZ1bHB1dGF0ZSBzY2VsZXJpc3F1ZSBmZWxpcywgdmVsIG1hbGVzdWFkYSBtYXVyaXMgc29sbGljaXR1ZGluIGluLiBNYWVjZW5hcyBuaXNpIGxpZ3VsYSwgbW9sbGlzIGNvbnNlY3RldHVyIGxhY2luaWEgYXQsIG1vbGxpcyB2ZWwgYXVndWUuIE1hdXJpcyBpZCBhbnRlIHZ1bHB1dGF0ZSwgY29uZGltZW50dW0gdHVycGlzIHNvbGxpY2l0dWRpbiwgdm9sdXRwYXQgZXJhdC4gUHJvaW4gYXQgdHVycGlzIG5vbiBuZXF1ZSB2aXZlcnJhIG1hdHRpcyBub24gZXUgdHVycGlzLiBDdXJhYml0dXIgaW4gbWkgbGFjaW5pYSwgbW9sbGlzIGxvcmVtIHV0LCBtb2xlc3RpZSBlcm9zLiBJbiB2ZWwgaWFjdWxpcyB0b3J0b3IuIEN1cmFiaXR1ciBiaWJlbmR1bSBzdXNjaXBpdCB0b3J0b3IgYWMgZWdlc3Rhcy5cblxuUXVpc3F1ZSBwb3J0YSBtZXR1cyBpbiB0b3J0b3IgdnVscHV0YXRlIHRlbXB1cy4gTWFlY2VuYXMgZmluaWJ1cywgbnVsbGEgdml0YWUgZmV1Z2lhdCBwb3J0YSwgZW5pbSBmZWxpcyBtYWxlc3VhZGEgdGVsbHVzLCBldCBlZmZpY2l0dXIgc2FwaWVuIGxlY3R1cyBzZWQgbWV0dXMuIFZpdmFtdXMgbm9uIGZhdWNpYnVzIGVsaXQuIE1vcmJpIGZpbmlidXMgdHVycGlzIGV1IHRpbmNpZHVudCB2dWxwdXRhdGUuIENyYXMgcGhhcmV0cmEgcmlzdXMgZGlhbSwgc2l0IGFtZXQgdmVoaWN1bGEgYXVndWUgZWxlaWZlbmQgdXQuIFNlZCBub24gdmVuZW5hdGlzIGxpYmVyby4gQ3VyYWJpdHVyIGF1Y3RvciBhcmN1IHNhZ2l0dGlzIGxpYmVybyBncmF2aWRhLCBuZWMgc29kYWxlcyB0b3J0b3IgdnVscHV0YXRlLiBWaXZhbXVzIHJpc3VzIG1pLCBzY2VsZXJpc3F1ZSBzaXQgYW1ldCBwaGFyZXRyYSBhYywgZnJpbmdpbGxhIGEgb2Rpby4gU3VzcGVuZGlzc2UgYWxpcXVldCB1bHRyaWNlcyBsdWN0dXMuIFBoYXNlbGx1cyBmcmluZ2lsbGEsIGVzdCBpbiBwZWxsZW50ZXNxdWUgdmVuZW5hdGlzLCBkdWkgbWF1cmlzIHRlbXBvciBsaWd1bGEsIGluIG1heGltdXMgdmVsaXQgZW5pbSB2aXRhZSBudWxsYS5cbiAgICAgICAgPC9wPlxuICAgICAgPC9zZWN0aW9uPlxuICAgICAgYDtcbiAgfVxufVxuXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ2NvdmVyYWdlcy12aWV3JywgQ292ZXJhZ2VzVmlldyk7XG4iLCJpbXBvcnQgeyBodG1sLCByZW5kZXIgfSBmcm9tICdsaXQtaHRtbCc7XG5cbmNsYXNzIEJ1c2luZXNzSW5mb1ZpZXcgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fc2hhZG93Um9vdCA9IHRoaXMuYXR0YWNoU2hhZG93KHttb2RlOiAnb3Blbid9KTtcbiAgfVxuXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHJlbmRlcih0aGlzLnRlbXBsYXRlKCksIHRoaXMuX3NoYWRvd1Jvb3QsIHtldmVudENvbnRleHQ6IHRoaXN9KTtcbiAgfVxuXG4gIHRlbXBsYXRlKCkge1xuICAgIHJldHVybiBodG1sYFxuICAgICAgPHNlY3Rpb24+XG4gICAgICAgIDxoMj5CdXNpbmVzcyBJbmZvIHZpZXcgaGVyZTwvaDI+XG4gICAgICAgIDxwPlxuICAgICAgICAgIERvbmVjIG1heGltdXMgbnVsbGEgcmlzdXMsIGEgZXVpc21vZCBtYXVyaXMgb3JuYXJlIHF1aXMuIE1hZWNlbmFzIGludGVyZHVtIGxvcmVtIHZpdGFlIGZlbGlzIGNvbnZhbGxpcywgZXUgZmVybWVudHVtIGVyb3Mgc2FnaXR0aXMuIEludGVnZXIgdmVsIG1ldHVzIGlkIHNlbSBmYXVjaWJ1cyBoZW5kcmVyaXQuIER1aXMgaW4gdnVscHV0YXRlIG5pc2wuIEN1cmFiaXR1ciBhIHRpbmNpZHVudCBqdXN0by4gUHJhZXNlbnQgdGluY2lkdW50IHRvcnRvciBpbiBsZWN0dXMgc2VtcGVyIG1hdHRpcy4gTnVsbGFtIGF0IGZhY2lsaXNpcyBuaXNpLiBQcmFlc2VudCBlZ2V0IGVuaW0gdWx0cmljZXMsIGltcGVyZGlldCBmZWxpcyBhLCBmcmluZ2lsbGEgcmlzdXMuIEludGVnZXIgZmF1Y2lidXMgdXQgZW5pbSBuZWMgZGlnbmlzc2ltLiBTZWQgY29uZ3VlIGV4IG5pc2wsIHZlbCBmcmluZ2lsbGEgbWV0dXMgZmluaWJ1cyBhdC4gRHVpcyBzZWQgaWFjdWxpcyBlbGl0LiBJbnRlcmR1bSBldCBtYWxlc3VhZGEgZmFtZXMgYWMgYW50ZSBpcHN1bSBwcmltaXMgaW4gZmF1Y2lidXMuIFByb2luIGF0IGJsYW5kaXQgbG9yZW0uIEV0aWFtIHNvbGxpY2l0dWRpbiBhdWd1ZSBldCBvZGlvIG1heGltdXMgdWxsYW1jb3JwZXIgZXUgYWMgbG9yZW0uXG5cblZpdmFtdXMgcHJldGl1bSBlcmF0IGRvbG9yLCBzaXQgYW1ldCBzZW1wZXIgbWV0dXMgZ3JhdmlkYSBpbi4gVml2YW11cyBwb3J0YSBzaXQgYW1ldCBkb2xvciB2ZWwgY29uc2VxdWF0LiBBZW5lYW4gbWF0dGlzLCBlcmF0IGV1IHJob25jdXMgdm9sdXRwYXQsIHF1YW0gbmliaCB2ZW5lbmF0aXMgbG9yZW0sIGxhb3JlZXQgbG9ib3J0aXMgbmVxdWUgbmVxdWUgdXQgdGVsbHVzLiBQaGFzZWxsdXMgdmFyaXVzIG1heGltdXMgZWxlbWVudHVtLiBQZWxsZW50ZXNxdWUgaGFiaXRhbnQgbW9yYmkgdHJpc3RpcXVlIHNlbmVjdHVzIGV0IG5ldHVzIGV0IG1hbGVzdWFkYSBmYW1lcyBhYyB0dXJwaXMgZWdlc3Rhcy4gTnVsbGFtIHVsdHJpY2llcyBuaWJoIHNlZCBoZW5kcmVyaXQgbW9sbGlzLiBEb25lYyBhY2N1bXNhbiBhcmN1IG5vbiBmZWxpcyBhdWN0b3IsIGF0IHNvbGxpY2l0dWRpbiBuZXF1ZSBtYXR0aXMuIERvbmVjIHNhZ2l0dGlzIG9yY2kgZG9sb3IsIGV1IGxhb3JlZXQgbGVvIGNvbmd1ZSBzZWQuIE5hbSBzb2RhbGVzIG5lYyBqdXN0byBpZCBmcmluZ2lsbGEuIE1hdXJpcyBtaSBvcmNpLCB2dWxwdXRhdGUgZXQgZWZmaWNpdHVyIGlkLCBwaGFyZXRyYSBldSBleC4gTnVsbGFtIHZlbCBvcmNpIGxvYm9ydGlzLCBwaGFyZXRyYSBtYXVyaXMgZWdldCwgdmFyaXVzIHNlbS4gUHJvaW4gcXVpcyBncmF2aWRhIG5pc2kuXG4gICAgICAgIDwvcD5cbiAgICAgIDwvc2VjdGlvbj5cbiAgICAgIGA7XG4gIH1cbn1cblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdidXNpbmVzc2luZm8tdmlldycsIEJ1c2luZXNzSW5mb1ZpZXcpO1xuIiwiaW1wb3J0IHsgaHRtbCwgcmVuZGVyIH0gZnJvbSAnbGl0LWh0bWwnO1xuXG5jbGFzcyBPcGVyYXRpb25zVmlldyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9zaGFkb3dSb290ID0gdGhpcy5hdHRhY2hTaGFkb3coe21vZGU6ICdvcGVuJ30pO1xuICB9XG5cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgcmVuZGVyKHRoaXMudGVtcGxhdGUoKSwgdGhpcy5fc2hhZG93Um9vdCwge2V2ZW50Q29udGV4dDogdGhpc30pO1xuICB9XG5cbiAgdGVtcGxhdGUoKSB7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8c2VjdGlvbj5cbiAgICAgICAgPGgyPk9wZXJhdGlvbnMgY29udGVudCBnb2VzIGhlcmU8L2gyPlxuICAgICAgICA8cD5cbiAgICAgICAgICBRdWlzcXVlIHBvcnRhIG1ldHVzIGluIHRvcnRvciB2dWxwdXRhdGUgdGVtcHVzLiBNYWVjZW5hcyBmaW5pYnVzLCBudWxsYSB2aXRhZSBmZXVnaWF0IHBvcnRhLCBlbmltIGZlbGlzIG1hbGVzdWFkYSB0ZWxsdXMsIGV0IGVmZmljaXR1ciBzYXBpZW4gbGVjdHVzIHNlZCBtZXR1cy4gVml2YW11cyBub24gZmF1Y2lidXMgZWxpdC4gTW9yYmkgZmluaWJ1cyB0dXJwaXMgZXUgdGluY2lkdW50IHZ1bHB1dGF0ZS4gQ3JhcyBwaGFyZXRyYSByaXN1cyBkaWFtLCBzaXQgYW1ldCB2ZWhpY3VsYSBhdWd1ZSBlbGVpZmVuZCB1dC4gU2VkIG5vbiB2ZW5lbmF0aXMgbGliZXJvLiBDdXJhYml0dXIgYXVjdG9yIGFyY3Ugc2FnaXR0aXMgbGliZXJvIGdyYXZpZGEsIG5lYyBzb2RhbGVzIHRvcnRvciB2dWxwdXRhdGUuIFZpdmFtdXMgcmlzdXMgbWksIHNjZWxlcmlzcXVlIHNpdCBhbWV0IHBoYXJldHJhIGFjLCBmcmluZ2lsbGEgYSBvZGlvLiBTdXNwZW5kaXNzZSBhbGlxdWV0IHVsdHJpY2VzIGx1Y3R1cy4gUGhhc2VsbHVzIGZyaW5naWxsYSwgZXN0IGluIHBlbGxlbnRlc3F1ZSB2ZW5lbmF0aXMsIGR1aSBtYXVyaXMgdGVtcG9yIGxpZ3VsYSwgaW4gbWF4aW11cyB2ZWxpdCBlbmltIHZpdGFlIG51bGxhLlxuXG5TdXNwZW5kaXNzZSBjb25ndWUgc29kYWxlcyBlc3QuIFN1c3BlbmRpc3NlIG5pc2wgZXgsIGNvbnNlY3RldHVyIHZlbCBjdXJzdXMgc2VkLCBjdXJzdXMgc2l0IGFtZXQgc2FwaWVuLiBDcmFzIGNvbnNlcXVhdCBtYXNzYSB2ZW5lbmF0aXMgbnVuYyB2b2x1dHBhdCBsb2JvcnRpcy4gRG9uZWMgb3JuYXJlIGJsYW5kaXQgZGlhbSBlZ2V0IGVmZmljaXR1ci4gQ3JhcyB2YXJpdXMgYWxpcXVldCBsZW8sIG5lYyBmaW5pYnVzIG9kaW8gdGluY2lkdW50IG5vbi4gUGVsbGVudGVzcXVlIG1hdXJpcyBtYXNzYSwgYWNjdW1zYW4gcXVpcyB0b3J0b3Igdml0YWUsIGNvbnNlY3RldHVyIHNvbGxpY2l0dWRpbiBtYXNzYS4gRnVzY2UgZWdldCB2ZXN0aWJ1bHVtIGxhY3VzLCBuZWMgbW9sbGlzIG9yY2kuIFZlc3RpYnVsdW0gbWF1cmlzIHZlbGl0LCBsdWN0dXMgdmVsIGxvcmVtIGx1Y3R1cywgbHVjdHVzIHBvcnR0aXRvciBkb2xvci4gQWVuZWFuIGlhY3VsaXMgZXggZXUgb3JuYXJlIG1hbGVzdWFkYS4gRG9uZWMgcGVsbGVudGVzcXVlIGxvcmVtIHNpdCBhbWV0IG5pc2kgY29uZ3VlLCBzaXQgYW1ldCBmcmluZ2lsbGEgdXJuYSBldWlzbW9kLiBWaXZhbXVzIGNvbnNlY3RldHVyIG1hdXJpcyBldSBsaWd1bGEgYmxhbmRpdCB0cmlzdGlxdWUuIE51bGxhbSBhcmN1IG1pLCBhY2N1bXNhbiBzaXQgYW1ldCBpcHN1bSBuZWMsIHNjZWxlcmlzcXVlIG1hbGVzdWFkYSBuaXNsLlxuICAgICAgICA8L3A+XG4gICAgICA8L3NlY3Rpb24+XG4gICAgICBgO1xuICB9XG59XG5cbmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnb3BlcmF0aW9ucy12aWV3JywgT3BlcmF0aW9uc1ZpZXcpO1xuIiwiaW1wb3J0IHsgaHRtbCwgcmVuZGVyIH0gZnJvbSAnbGl0LWh0bWwnO1xuXG5jbGFzcyBTYWxlc1ZpZXcgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fc2hhZG93Um9vdCA9IHRoaXMuYXR0YWNoU2hhZG93KHttb2RlOiAnb3Blbid9KTtcbiAgfVxuXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHJlbmRlcih0aGlzLnRlbXBsYXRlKCksIHRoaXMuX3NoYWRvd1Jvb3QsIHtldmVudENvbnRleHQ6IHRoaXN9KTtcbiAgfVxuXG4gIHRlbXBsYXRlKCkge1xuICAgIHJldHVybiBodG1sYFxuICAgICAgPHNlY3Rpb24+XG4gICAgICAgIDxoMj5TYWxlcyBwcm9qZWN0aW9ucyBjb250ZW50IGhlcmU8L2gyPlxuICAgICAgICA8cD5cbiAgICAgICAgICBTdXNwZW5kaXNzZSBjb25ndWUgc29kYWxlcyBlc3QuIFN1c3BlbmRpc3NlIG5pc2wgZXgsIGNvbnNlY3RldHVyIHZlbCBjdXJzdXMgc2VkLCBjdXJzdXMgc2l0IGFtZXQgc2FwaWVuLiBDcmFzIGNvbnNlcXVhdCBtYXNzYSB2ZW5lbmF0aXMgbnVuYyB2b2x1dHBhdCBsb2JvcnRpcy4gRG9uZWMgb3JuYXJlIGJsYW5kaXQgZGlhbSBlZ2V0IGVmZmljaXR1ci4gQ3JhcyB2YXJpdXMgYWxpcXVldCBsZW8sIG5lYyBmaW5pYnVzIG9kaW8gdGluY2lkdW50IG5vbi4gUGVsbGVudGVzcXVlIG1hdXJpcyBtYXNzYSwgYWNjdW1zYW4gcXVpcyB0b3J0b3Igdml0YWUsIGNvbnNlY3RldHVyIHNvbGxpY2l0dWRpbiBtYXNzYS4gRnVzY2UgZWdldCB2ZXN0aWJ1bHVtIGxhY3VzLCBuZWMgbW9sbGlzIG9yY2kuIFZlc3RpYnVsdW0gbWF1cmlzIHZlbGl0LCBsdWN0dXMgdmVsIGxvcmVtIGx1Y3R1cywgbHVjdHVzIHBvcnR0aXRvciBkb2xvci4gQWVuZWFuIGlhY3VsaXMgZXggZXUgb3JuYXJlIG1hbGVzdWFkYS4gRG9uZWMgcGVsbGVudGVzcXVlIGxvcmVtIHNpdCBhbWV0IG5pc2kgY29uZ3VlLCBzaXQgYW1ldCBmcmluZ2lsbGEgdXJuYSBldWlzbW9kLiBWaXZhbXVzIGNvbnNlY3RldHVyIG1hdXJpcyBldSBsaWd1bGEgYmxhbmRpdCB0cmlzdGlxdWUuIE51bGxhbSBhcmN1IG1pLCBhY2N1bXNhbiBzaXQgYW1ldCBpcHN1bSBuZWMsIHNjZWxlcmlzcXVlIG1hbGVzdWFkYSBuaXNsLlxuXG5Eb25lYyBtYXhpbXVzIG51bGxhIHJpc3VzLCBhIGV1aXNtb2QgbWF1cmlzIG9ybmFyZSBxdWlzLiBNYWVjZW5hcyBpbnRlcmR1bSBsb3JlbSB2aXRhZSBmZWxpcyBjb252YWxsaXMsIGV1IGZlcm1lbnR1bSBlcm9zIHNhZ2l0dGlzLiBJbnRlZ2VyIHZlbCBtZXR1cyBpZCBzZW0gZmF1Y2lidXMgaGVuZHJlcml0LiBEdWlzIGluIHZ1bHB1dGF0ZSBuaXNsLiBDdXJhYml0dXIgYSB0aW5jaWR1bnQganVzdG8uIFByYWVzZW50IHRpbmNpZHVudCB0b3J0b3IgaW4gbGVjdHVzIHNlbXBlciBtYXR0aXMuIE51bGxhbSBhdCBmYWNpbGlzaXMgbmlzaS4gUHJhZXNlbnQgZWdldCBlbmltIHVsdHJpY2VzLCBpbXBlcmRpZXQgZmVsaXMgYSwgZnJpbmdpbGxhIHJpc3VzLiBJbnRlZ2VyIGZhdWNpYnVzIHV0IGVuaW0gbmVjIGRpZ25pc3NpbS4gU2VkIGNvbmd1ZSBleCBuaXNsLCB2ZWwgZnJpbmdpbGxhIG1ldHVzIGZpbmlidXMgYXQuIER1aXMgc2VkIGlhY3VsaXMgZWxpdC4gSW50ZXJkdW0gZXQgbWFsZXN1YWRhIGZhbWVzIGFjIGFudGUgaXBzdW0gcHJpbWlzIGluIGZhdWNpYnVzLiBQcm9pbiBhdCBibGFuZGl0IGxvcmVtLiBFdGlhbSBzb2xsaWNpdHVkaW4gYXVndWUgZXQgb2RpbyBtYXhpbXVzIHVsbGFtY29ycGVyIGV1IGFjIGxvcmVtLlxuICAgICAgICA8L3A+XG4gICAgICA8L3NlY3Rpb24+XG4gICAgICBgO1xuICB9XG59XG5cbmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnc2FsZXMtdmlldycsIFNhbGVzVmlldyk7XG4iLCJpbXBvcnQgeyBodG1sLCByZW5kZXIgfSBmcm9tICdsaXQtaHRtbCc7IFxuaW1wb3J0IHsgaW5zdGFsbFJvdXRlciB9IGZyb20gJy4uL25vZGVfbW9kdWxlcy9wd2EtaGVscGVycy9yb3V0ZXIuanMnO1xuXG5pbXBvcnQgJy4vaG9tZS12aWV3LmpzJztcbmltcG9ydCAnLi9jb3ZlcmFnZXMtdmlldy5qcyc7XG5pbXBvcnQgJy4vYnVzaW5lc3NpbmZvLXZpZXcuanMnO1xuaW1wb3J0ICcuL29wZXJhdGlvbnMtdmlldy5qcyc7XG5pbXBvcnQgJy4vc2FsZXNwcm9qZWN0aW9ucy12aWV3LmpzJztcblxuXG5jbGFzcyBDYW5uYWJpc0FwcCBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9zaGFkb3dSb290ID0gdGhpcy5hdHRhY2hTaGFkb3coe21vZGU6ICdvcGVuJ30pO1xuICAgIHRoaXMuX3BhdGhuYW1lID0gXCIvXCI7XG4gIH1cblxuICBnZXQgcGF0aG5hbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BhdGhuYW1lO1xuICB9XG4gIHNldCBwYXRobmFtZSh2YWwpIHtcbiAgICB0aGlzLl9wYXRobmFtZSA9IHZhbDtcbiAgfVxuXG4gIF9oYW5kbGVOYXZpZ2F0aW9uKHBhdGhuYW1lKSB7XG4gICAgc3dpdGNoIChwYXRobmFtZSkge1xuICAgICAgY2FzZSBcIi9cIjpcbiAgICAgIGNhc2UgXCIvY292ZXJhZ2VzXCI6XG4gICAgICBjYXNlIFwiL2J1c2luZXNzaW5mb1wiOlxuICAgICAgY2FzZSBcIi9vcGVyYXRpb25zXCI6XG4gICAgICBjYXNlIFwiL3NhbGVzXCI6XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcGF0aG5hbWUgPSBcIi9cIjtcbiAgICB9XG4gICAgdGhpcy5wYXRobmFtZSA9IHBhdGhuYW1lO1xuICAgIHJlbmRlcih0aGlzLnRlbXBsYXRlKCksIHRoaXMuX3NoYWRvd1Jvb3QsIHtldmVudENvbnRleHQ6IHRoaXN9KTtcbiAgfVxuXG4gIGFzeW5jIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHJlbmRlcih0aGlzLnRlbXBsYXRlKCksIHRoaXMuX3NoYWRvd1Jvb3QsIHtldmVudENvbnRleHQ6IHRoaXN9KTtcblxuICAgIC8vIHNldCB1cCB3aW5kb3cubG9jYXRpb24gbGlzdGVuZXIgb24gYm9keVxuICAgIGluc3RhbGxSb3V0ZXIoKGxvY2F0aW9uKSA9PiB0aGlzLl9oYW5kbGVOYXZpZ2F0aW9uKGxvY2F0aW9uLnBhdGhuYW1lKSk7XG5cbiAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoe30sIFwiXCIsIFwiL1wiKTtcbiAgICB0aGlzLl9oYW5kbGVOYXZpZ2F0aW9uKCk7XG5cbiB9XG5cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKFwidXNlclwiLCAoZSkgPT4gdGhpcy5fZ2V0VXNlck5hbWUoZSksIGZhbHNlKTtcbiAgfVxuXG4gIC8qIERlYW4geW91ciBuYXZpZ2F0aW9uIGNvbnRyb2wgZnVuY3Rpb25zIGhlcmUgKi9cblxuICBfb3Blbk5hdigpIHtcbiAgICBjb25zb2xlLmxvZyhcIl9vcGVuTmF2KCkgaW52b2tlZFwiKTtcbiAgICB0aGlzLl9zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoXCJkaXYjbXlTaWRlbmF2XCIpLnN0eWxlLndpZHRoID0gXCIyNTBweFwiO1xuICAgIHRoaXMuX3NoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcihcIm1haW5cIikuc3R5bGUubWFyZ2luTGVmdCA9IFwiMjUwcHhcIjtcbiAgICB0aGlzLl9zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoXCJkaXYjYnV0dG9uXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgfVxuXG4gIF9jbG9zZU5hdigpIHtcbiAgICB0aGlzLl9zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoXCJkaXYjbXlTaWRlbmF2XCIpLnN0eWxlLndpZHRoID0gXCIwXCI7XG4gICAgdGhpcy5fc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKFwibWFpblwiKS5zdHlsZS5tYXJnaW5MZWZ0ID0gXCIwXCI7XG4gICAgdGhpcy5fc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKFwiZGl2I2J1dHRvblwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICB9XG5cblxuXG4gIHRlbXBsYXRlKCkge1xuICAgIHJldHVybiBodG1sYFxuICAgICAgPHN0eWxlPlxuICAgICAgICA6aG9zdCB7XG4gICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgIH1cblxuICAgICAgICBhIHtcbiAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgICAgIH1cblxuICAgICAgICBoZWFkZXIge1xuICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgIG1pbi1oZWlnaHQ6IDgwcHg7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ExYTFhMTtcbiAgICAgICAgICBwYWRkaW5nLXRvcDogMTBweDtcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLyogd29ya2Fyb3VuZCBmb3IgSUUxMSBkaXNwbGF5aW5nIDxtYWluPiBhcyBpbmxpbmUgKi9cbiAgICAgICAgbWFpbiB7XG4gICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgIH1cblxuICAgICAgICAubWFpbi1jb250ZW50IHtcbiAgICAgICAgICBwYWRkaW5nLXRvcDogNjRweDtcbiAgICAgICAgICBwYWRkaW5nLWxlZnQ6IDNlbTtcbiAgICAgICAgICBtaW4taGVpZ2h0OiAxMDB2aDtcbiAgICAgICAgICB3aWR0aDogNzAlO1xuICAgICAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICAgICAgICAgIG1hcmdpbi1yaWdodDogYXV0bztcbiAgICAgICAgfVxuXG4gICAgICAgIC5wYXRobmFtZSB7XG4gICAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5wYXRobmFtZVthY3RpdmVdIHtcbiAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgfVxuICAgICAgICAvKioqKioqKioqIERlYW4sIHRoaXMgaXMgd2hlcmUgSSBhZGRlZCB5b3VyIGNzcyAqKiovXG5cbiAgICAgICAgLnNpZGVuYXYge1xuICAgICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgICB3aWR0aDogMDtcbiAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICAgICAgei1pbmRleDogMTtcbiAgICAgICAgICB0b3A6IDA7XG4gICAgICAgICAgbGVmdDogMDtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMTExO1xuICAgICAgICAgIG92ZXJmbG93LXg6IGhpZGRlbjtcbiAgICAgICAgICB0cmFuc2l0aW9uOiAwLjVzO1xuICAgICAgICAgIHBhZGRpbmctdG9wOiA2MHB4O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAuc2lkZW5hdiBhIHtcbiAgICAgICAgICBwYWRkaW5nOiA4cHggOHB4IDhweCAzMnB4O1xuICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICAgICAgICBmb250LXNpemU6IDI1cHg7XG4gICAgICAgICAgY29sb3I6ICM4MTgxODE7XG4gICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgdHJhbnNpdGlvbjogMC4zcztcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLnNpZGVuYXYgYTpob3ZlciB7XG4gICAgICAgICAgY29sb3I6ICNmMWYxZjE7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC5zaWRlbmF2IC5jbG9zZWJ0biB7XG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgIHRvcDogMDtcbiAgICAgICAgICByaWdodDogMjVweDtcbiAgICAgICAgICBmb250LXNpemU6IDM2cHg7XG4gICAgICAgICAgbWFyZ2luLWxlZnQ6IDUwcHg7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8qIERlYW4sIHRvb2sgb3V0IHlvdXIgbWFpbiBkaXZcbiAgICAgICAgI21haW4ge1xuICAgICAgICAgIHRyYW5zaXRpb246IG1hcmdpbi1sZWZ0IC41cztcbiAgICAgICAgICBwYWRkaW5nOiAxNnB4O1xuICAgICAgICB9XG4gICAgICAgICovXG4gICAgICAgIFxuICAgICAgICBAbWVkaWEgc2NyZWVuIGFuZCAobWF4LWhlaWdodDogNDUwcHgpIHtcbiAgICAgICAgICAuc2lkZW5hdiB7cGFkZGluZy10b3A6IDE1cHg7fVxuICAgICAgICAgIC5zaWRlbmF2IGEge2ZvbnQtc2l6ZTogMThweDt9XG4gICAgICAgIH1cbiAgICAgIDwvc3R5bGU+XG5cbiAgICAgIDxoZWFkZXI+XG4gICAgICAgIDwhLS0gbmF2aWdhdGlvbiBiYXIgLS0+XG4gICAgICAgIDxuYXYgY2xhc3M9XCJ0b29sYmFyXCI+XG4gICAgICAgIDwvbmF2PlxuICAgICAgPC9oZWFkZXI+XG4gICAgICBcbiAgICAgIDwhLS0gRGVhbiwgdGhpcyBpcyB3aGVyZSBJIGFkZGVkIHlvdXIgbWFya3VwIGZvciBzaWRlbmF2ICAtLT5cblxuICAgICAgPGRpdiBpZD1cIm15U2lkZW5hdlwiIGNsYXNzPVwic2lkZW5hdlwiPlxuICAgICAgICA8YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgY2xhc3M9XCJjbG9zZWJ0blwiIEBjbGljaz0ke3RoaXMuX2Nsb3NlTmF2fT4mdGltZXM7PC9hPlxuICAgICAgICA8YSBocmVmPVwiL2NvdmVyYWdlc1wiPkNvdmVyYWdlczwvYT5cbiAgICAgICAgPGEgaHJlZj1cIi9idXNpbmVzc2luZm9cIj5CdXNpbmVzcyBJbmZvPC9hPlxuICAgICAgICA8YSBocmVmPVwiL29wZXJhdGlvbnNcIj5PcGVyYXRpb25zPC9hPlxuICAgICAgICA8YSBocmVmPVwic2FsZXNcIj5TYWxlcyBQcm9qZWN0aW9uczwvYT5cbiAgICAgIDwvZGl2PlxuICAgICAgXG4gICAgICA8ZGl2IGlkPVwiYnV0dG9uXCI+XG4gICAgICAgIDxzcGFuIHN0eWxlPVwiZm9udC1zaXplOjMwcHg7Y3Vyc29yOnBvaW50ZXJcIiBAY2xpY2s9JHt0aGlzLl9vcGVuTmF2fT4mbmJzcDsgJm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7ICYjOTc3Njsgb3Blbjwvc3Bhbj5cbiAgICAgICAgXG4gICAgICA8L2Rpdj5cblxuICAgICAgPCEtLSBtYWluIGNvbnRlbnQgLS0+XG4gICAgICA8bWFpbiByb2xlPVwibWFpblwiIGNsYXNzPVwibWFpbi1jb250ZW50XCI+XG4gICAgICAgIDxob21lLXZpZXcgY2xhc3M9XCJwYXRobmFtZVwiID9hY3RpdmU9XCIke3RoaXMucGF0aG5hbWUgPT09ICcvJ31cIj48L2hvbWUtdmlldz5cbiAgICAgICAgPGNvdmVyYWdlcy12aWV3IGNsYXNzPVwicGF0aG5hbWVcIiA/YWN0aXZlPVwiJHt0aGlzLnBhdGhuYW1lID09PSAnL2NvdmVyYWdlcyd9XCI+PC9jb3ZlcmFnZXMtdmlldz5cbiAgICAgICAgPGJ1c2luZXNzaW5mby12aWV3IGNsYXNzPVwicGF0aG5hbWVcIiA/YWN0aXZlPVwiJHt0aGlzLnBhdGhuYW1lID09PSAnL2J1c2luZXNzaW5mbyd9XCI+PC9idXNpbmVzc2luZm8tdmlldz5cbiAgICAgICAgPG9wZXJhdGlvbnMtdmlldyBjbGFzcz1cInBhdGhuYW1lXCIgP2FjdGl2ZT1cIiR7dGhpcy5wYXRobmFtZSA9PT0gJy9vcGVyYXRpb25zJ31cIj48L29wZXJhdGlvbnMtdmlldz5cbiAgICAgICAgPHNhbGVzLXZpZXcgY2xhc3M9XCJwYXRobmFtZVwiID9hY3RpdmU9XCIke3RoaXMucGF0aG5hbWUgPT09ICcvc2FsZXMnfVwiPjwvc2FsZXMtdmlldz5cbiAgICAgIDwvbWFpbj5cbiAgICBgO1xuICB9XG5cbn1cblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdjYW5uYWJpcy1hcHAnLCBDYW5uYWJpc0FwcCk7XG4iXSwic291cmNlUm9vdCI6IiJ9